import{f as x,b as k,O as d,Q as T,R as s,G as D,U as t,K as a,J as n,N as b,A as m,q as w,I as j,L as N,M as W,e as $,o as A,_ as G,ad as E}from"./vue.esm-bundler-33967e91.js";import{u as O,aY as H,R as Q,f as q,bu as J,fz as K,fA as Y,fB as Z,fC as ee,dc as te,E as ae,bD as se}from"./ModalPvLimitAlertView-cb9178ae.js";import{u as oe}from"./vue-i18n.cjs-bd62fc86.js";import{a as le}from"./ModalUpgradeRequired-a455cfd7.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import{u as re,B as M}from"./BasicModal-000dc82b.js";import{P as pe}from"./PfIcon-bb1c3c10.js";import"./_commonjsHelpers-042e6b4d.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./iframe-4066d2cc.js";import"../sb-preview/runtime.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./mapValues-a1d744f5.js";const ie=""+new URL("cms_sample_image-e4eb4b98.png",import.meta.url).href,me=""+new URL("cms_sample_image_dark-2ba1bb7a.png",import.meta.url).href,ce=""+new URL("use_cms_template-d0a43eb1.png",import.meta.url).href,ue=""+new URL("unuse_cms_template-9883793e.png",import.meta.url).href,de=""+new URL("from_wordpress_import-c22817b6.png",import.meta.url).href,I=_=>(N("data-v-9ff71a2d"),_=_(),W(),_),_e={class:"label-md-bold _text-gray-600"},fe={class:"_heading-md"},ge=I(()=>a("img",{alt:"use-cms-template",src:ce,width:"160"},null,-1)),he={class:"_heading-sm"},Ce={class:"label-md-normal _whitespace-pre-wrap _text-center _text-gray-600"},Pe=I(()=>a("img",{alt:"use-cms-template",src:ue,width:"160"},null,-1)),ve={class:"_heading-sm"},Se={class:"label-md-normal _whitespace-pre-wrap _text-center _text-gray-600"},ye=I(()=>a("img",{alt:"use-cms-template",src:de,width:"160"},null,-1)),be={class:"_heading-sm"},we={class:"label-md-normal _whitespace-pre-wrap _text-center _text-gray-600"},F=x({__name:"SelectCmsInitType",emits:["closeModal","createProject","selectFromXml"],setup(_,{emit:h}){const f=h,e=k("template"),C=()=>{e.value==="xml"?f("selectFromXml"):f("createProject",{initializeFromTemplate:e.value==="template"}),f("closeModal")};return(l,o)=>{const p=d("PfColumn"),g=d("PfRadio"),v=d("PfRow"),c=d("PfButton");return D(),T(p,{align:"center",class:"o-select-cms-init-type _w-fit _bg-white _p-40",gap:"24",rounded:"8"},{default:s(()=>[t(p,{align:"center",gap:"8"},{default:s(()=>[a("span",_e,n(l.$t("CMS:launch")),1),a("span",fe,n(l.$t("CMS:selectInitialDataType")),1)]),_:1}),t(v,{align:"stretch",gap:"8"},{default:s(()=>[t(p,{class:b([[m(e)==="template"&&"isSelected"],"init-type-btn _cursor-pointer _px-32 _pb-32 _pt-16"]),align:"center",gap:"16",rounded:"8",onClick:o[1]||(o[1]=i=>e.value="template")},{default:s(()=>[t(g,{modelValue:m(e),"onUpdate:modelValue":o[0]||(o[0]=i=>w(e)?e.value=i:null),value:"template"},null,8,["modelValue"]),ge,t(p,{align:"center",gap:"12"},{default:s(()=>[a("span",he,n(l.$t("CMS:StartWithTemplate")),1),a("span",Ce,n(l.$t("CMS:StartWithTemplateDescription")),1)]),_:1})]),_:1},8,["class"]),t(p,{class:b([[m(e)==="plane"&&"isSelected"],"init-type-btn _cursor-pointer _px-32 _pb-32 _pt-16"]),align:"center",gap:"16",rounded:"8",onClick:o[3]||(o[3]=i=>e.value="plane")},{default:s(()=>[t(g,{modelValue:m(e),"onUpdate:modelValue":o[2]||(o[2]=i=>w(e)?e.value=i:null),value:"plane"},null,8,["modelValue"]),Pe,t(p,{align:"center",gap:"12"},{default:s(()=>[a("span",ve,n(l.$t("CMS:StartWithBlank")),1),a("span",Se,n(l.$t("CMS:StartWithBlankDescription")),1)]),_:1})]),_:1},8,["class"]),t(p,{class:b([[m(e)==="xml"&&"isSelected"],"init-type-btn _cursor-pointer _px-32 _pb-32 _pt-16"]),align:"center",gap:"16",rounded:"8",onClick:o[5]||(o[5]=i=>e.value="xml")},{default:s(()=>[t(g,{modelValue:m(e),"onUpdate:modelValue":o[4]||(o[4]=i=>w(e)?e.value=i:null),value:"xml"},null,8,["modelValue"]),ye,t(p,{align:"center",gap:"12"},{default:s(()=>[a("span",be,n(l.$t("CMS:ImportFromWordpress")),1),a("span",we,n(l.$t("CMS:ImportFromWordpress Description")),1)]),_:1})]),_:1},8,["class"])]),_:1}),t(c,{size:"lg",variant:"primary",onClick:C},{default:s(()=>[j(n(l.$t("CMS:launch")),1)]),_:1})]),_:1})}}});const Me=ne(F,[["__scopeId","data-v-9ff71a2d"]]);F.__docgenInfo={exportName:"default",displayName:"SelectCmsInitType",description:"",tags:{},events:[{name:"closeModal"},{name:"createProject",type:{names:["{ initializeFromTemplate: boolean }"]}},{name:"selectFromXml"}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Cms/SelectCmsInitType.vue"]};const Ie=a("p",{class:"_heading-md"},"CMS 2.0",-1),$e={class:"_heading-xl _mt-16 _whitespace-pre-wrap _text-center"},xe={class:"_mt-16 _whitespace-pre-wrap _text-center _text-center _text-lg"},ke={href:"https://help.studio.design/ja/articles/4175003-studio-cms%E3%81%A8%E3%81%AF",target:"_blank",class:"_mt-16 _flex _flex-row _items-center _justify-center _gap-4"},Te={class:"_text-md _font-bold _text-blue-600"},De=["src"],je=x({__name:"PagePdDashboardCmsSetup",setup(_){const h=le(),{t:f}=oe(),e=re(),{language:C}=O(),{project:l}=H(),{setupCmsProject:o}=Q(),p=q("modalOpen"),{isDarkMode:g}=J(),{startCmsImport:v}=K(),c=k(!1),i=$(()=>te.initialized?!1:c.value),R=$(()=>g.value?me:ie),U=async r=>{c.value=!0;try{await o({projectId:l.value.id,language:C.value,initializeFromTemplate:r}),r||h.push({name:"PagePdDashboardCmsTop"})}catch(u){const P=ae(u),S=f(P);se({type:"error",text:S,duration:1e4})}finally{c.value=!1}},B=async()=>{c.value=!0;try{await o({projectId:l.value.id,language:C.value,initializeFromTemplate:!1})}catch(r){console.log(r)}await v(l.value.id),c.value=!1,await h.push({name:"PagePdDashboardCmsTop"})},V=async()=>{await e.pop(),e.push("xml-upload-setup")},X=()=>{e.pop(),e.push("select-cms-init-type")},z=()=>{e.pop(),e.push("xml-import-setup")},L=()=>{e.pop(),e.push("xml-upload-setup")};return A(()=>{p.value&&e.push("select-cms-init-type")}),(r,u)=>{const P=d("PfColumn"),S=d("PfButton");return D(),T(P,{align:"center",class:"_relative _bg-gray-50 _pt-64",h:"full",w:"full"},{default:s(()=>[t(P,{align:"center"},{default:s(()=>[Ie,a("h1",$e,n(r.$t("CMS:setupTitle")),1),a("p",xe,n(r.$t("CMS:setupSub")),1),a("a",ke,[t(pe,{icon:"info","icon-color":"blue-600",size:"md"}),a("p",Te,n(r.$t("CMS: Getting started guide")),1)])]),_:1}),t(S,{class:"_mt-32 _flex-none",size:"lg",onClick:u[0]||(u[0]=y=>r.$modal.push("select-cms-init-type"))},{default:s(()=>[j(n(r.$t("CMS:launch")),1)]),_:1}),a("img",{src:m(R),alt:"new-cms-partial-display",width:"1080",class:"_mt-32"},null,8,De),t(M,{name:"select-cms-init-type"},{default:s(()=>[t(Me,{onCloseModal:u[1]||(u[1]=y=>r.$modal.pop()),onCreateProject:u[2]||(u[2]=y=>U(y.initializeFromTemplate)),onSelectFromXml:V})]),_:1}),G(t(Y,null,null,512),[[E,m(i)]]),t(M,{name:"xml-upload-setup"},{default:s(()=>[t(Z,{"from-setup":!0,onCancel:X,onNext:z})]),_:1}),t(M,{name:"xml-import-setup"},{default:s(()=>[t(ee,{"from-setup":!0,"is-loading":m(c),onPrev:L,onCreateProjectFromXml:B},null,8,["is-loading"])]),_:1})]),_:1})}}});je.__docgenInfo={exportName:"default",displayName:"PagePdDashboardCmsSetup",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageCms/PagePdDashboardCmsSetup.vue"]};export{je as default};
