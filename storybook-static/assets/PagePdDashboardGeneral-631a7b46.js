import{G as i,H as d,K as e,J as n,N as y,S as g,P as E,L,M as R,f as $,e as u,A as s,U as f,R as b,I as P,b as w,w as V,a8 as q,F as K,W as J,O as N,a7 as Q,_ as W,Q as C}from"./vue.esm-bundler-33967e91.js";import{ao as I,G as j,aY as Y,a4 as Z,a3 as X,ev as ee}from"./ModalPvLimitAlertView-cb9178ae.js";import{P as te,a as se}from"./PdSectionTitle-5e0aef1e.js";import{_ as oe}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as D}from"./PfButton-db6d6722.js";import{u as S}from"./BasicModal-000dc82b.js";import{u as T}from"./vue-i18n.cjs-bd62fc86.js";import{P as ae}from"./PfIcon-bb1c3c10.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./PfIconContext-bd54ca9b.js";import"./_commonjsHelpers-042e6b4d.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./iframe-4066d2cc.js";import"../sb-preview/runtime.js";import"./mapValues-a1d744f5.js";const U={data(){return{coverFile:null,loading:!1}},computed:{...I("project",["project","coverPreview"]),...I("v2",["url"]),imageStyle(){return!this.project.cover_image&&!this.coverPreview?null:{backgroundImage:`url('${this.coverPreview||this.project.cover_image}')`}}},methods:{changeCover(l){const t=l.target.files[0];t&&(this.coverFile=t,this.$store.dispatch("project/previewProjectCover",{file:t}))},cancelCover(){this.coverFile=null;const l=null;this.$store.dispatch("project/previewProjectCover",{file:l})},saveCover(){this.loading=!0;const l=this.coverFile,t=this.$route.params.projectId;this.$store.dispatch("project/updateProjectCover",{projectId:t,file:l}).then(()=>{this.loading=!1,this.coverFile=null}).catch(()=>{this.loading=!1,this.coverFile=null})}}},M=l=>(L("data-v-e51f1888"),l=l(),R(),l),re={class:"PdDashboardTitleCover"},ie={class:"cover-image-title"},ne={class:"cover-image-description"},le=M(()=>e("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M47.3866 12.5394L12.5404 47.3856C12.1655 47.7605 12.1655 48.3684 12.5404 48.7433L15.2557 51.4586C15.6306 51.8335 16.2384 51.8335 16.6133 51.4586L51.4595 16.6123C51.8345 16.2374 51.8345 15.6296 51.4595 15.2547L48.7443 12.5394C48.3694 12.1645 47.7615 12.1645 47.3866 12.5394Z",fill:"white"})],-1)),ce={class:"_mt-12 _text-sm _font-bold _text-gray-500"},_e=M(()=>e("p",{class:"_mt-4 _text-sm _font-bold _text-gray-500"},"1200 x 630",-1)),de={key:0,class:"buttons"},ue={key:0,class:"spinner"},pe={key:1};function me(l,t,o,c,r,a){return i(),d("div",re,[e("p",ie,n(l.$t("DASHBOARD: social share image")),1),e("p",ne,n(l.$t("DASHBOARD: If you donâ€™t set OG image in the design editor, this image will be displayed.")),1),e("div",{class:"image",style:E(a.imageStyle)},[r.loading?g("",!0):(i(),d("label",{key:0,class:y(["edit button",{init:!a.imageStyle}])},[le,e("p",ce,n(l.$t("Update Project Cover")),1),_e,e("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:t[0]||(t[0]=(..._)=>a.changeCover&&a.changeCover(..._))},null,32)],2))],4),r.coverFile?(i(),d("div",de,[r.loading?g("",!0):(i(),d("button",{key:0,class:"cancel",onClick:t[1]||(t[1]=(..._)=>a.cancelCover&&a.cancelCover(..._))},[e("p",null,n(l.$t("Cancel")),1)])),e("button",{class:y(["save",{loading:r.loading}]),onClick:t[2]||(t[2]=(..._)=>a.saveCover&&a.saveCover(..._))},[r.loading?(i(),d("div",ue)):(i(),d("p",pe,n(l.$t("Save")),1))],2)])):g("",!0)])}const he=oe(U,[["render",me],["__scopeId","data-v-e51f1888"]]);U.__docgenInfo={exportName:"default",displayName:"DashboardGeneralCover",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageGeneral/DashboardGeneralCover.vue"]};const fe={class:"_mt-40"},ve={class:"_flex _flex-row _items-center _justify-start _gap-12"},ge={class:"_text-md _font-bold"},be={class:"_flex _flex-row _items-center _justify-center _gap-8"},we={class:"_text-md"},ye={class:"_mt-8 _flex _flex-row _items-center _justify-between _border-b-1 _border-solid _border-gray-100 _pb-16"},Pe={class:"_flex _flex-1 _flex-row _items-center _justify-start"},$e=["href"],xe={key:1},H=$({__name:"DashboardGeneralPreview",setup(l){const t=j(),o=S(),c=u(()=>t.state.project.previews),r=u(()=>c.value.length>0),a=u(()=>r.value?"https://preview.studio.site/live/"+c.value[0].id:""),_=()=>{o.push("ModalPreview")};return(p,v)=>(i(),d("div",fe,[e("div",ve,[e("p",ge,n(p.$t("live preview")),1),e("div",be,[e("i",{class:y(["_h-8 _w-8 _rounded-full _bg-gray-300",{"_bg-[#81e216]":s(r)}])},null,2),e("p",we,n(s(r)?"ON":"OFF"),1)])]),e("div",ye,[e("div",Pe,[s(r)?(i(),d("a",{key:0,href:s(a),target:"_blank"},n(s(a)),9,$e)):(i(),d("p",xe,"OFF"))]),f(D,{variant:"outline",size:"md",onClick:_},{default:b(()=>[P(n(p.$t("PasswordPage: Settings")),1)]),_:1})])]))}});H.__docgenInfo={exportName:"default",displayName:"DashboardGeneralPreview",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageGeneral/DashboardGeneralPreview.vue"]};const je={class:"_mt-40"},ke={class:"_flex _flex-row _items-center _justify-start _gap-12"},Ce={class:"_text-md _font-bold"},De={class:"_flex _flex-row _items-center _justify-center _gap-8"},Ge={class:"_text-md"},Se={class:"_mt-8 _flex _flex-row _items-center _justify-between _border-b-1 _border-solid _border-gray-100 _pb-16"},Fe={class:"_flex _flex-1 _flex-row _items-center _justify-start"},Ie={key:0},Ne=["href"],B=$({__name:"DashboardGeneralPublish",setup(l){const t=j(),o=S(),{t:c}=T(),r=u(()=>t.state.project.project),a=u(()=>t.state.v2.url),_=u(()=>r.value.published),p=u(()=>r.value.verified?`https://${r.value.custom_domain}`:`${a.value.protocol}${r.value.subdomain||"________"}${a.value.domain}`),v=()=>o.push("ModalPublish");return(m,x)=>(i(),d("div",je,[e("div",ke,[e("p",Ce,n(m.$t("publish")),1),e("div",De,[e("i",{class:y(["_h-8 _w-8 _rounded-full _bg-gray-300",{"_bg-[#81e216]":s(_)}])},null,2),e("p",Ge,n(s(_)?s(c)("Published"):s(c)("Unpublished")),1)])]),e("div",Se,[e("div",Fe,[s(_)?(i(),d("a",{key:1,href:s(p),target:"_blank"},n(s(p)),9,Ne)):(i(),d("p",Ie,n(s(p)),1))]),f(D,{variant:"outline",size:"md",onClick:v},{default:b(()=>[P(n(m.$t("pdDashboard: Publish Settings")),1)]),_:1})])]))}});B.__docgenInfo={exportName:"default",displayName:"DashboardGeneralPublish",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageGeneral/DashboardGeneralPublish.vue"]};const Te={class:"GeneralTitleName _border-b-1 _border-solid _border-gray-100 _pb-16"},Ue={class:"_text-md _font-bold"},Me=["value","disabled"],He={class:"_flex _flex-row _items-center _justify-end _gap-8"},z=$({__name:"DashboardGeneralTitle",setup(l){const t=j(),o=w(!1),c=w(!1),r=w(),a=w(),_=u(()=>t.state.project.project),p=w(_.value.name),v=()=>{o.value=!0,requestAnimationFrame(()=>a.value?.focus())},m=()=>{a.value?.blur(),o.value=!1,c.value=!1},x=async h=>{if(!h.target)return;c.value=!0;const k=new FormData(r.value).get("title");if(k===p.value)return m();const G={projectId:_.value.id,body:{name:k}};await t.dispatch("project/editProject",G),c.value=!1,o.value=!1};return V(o,()=>{requestAnimationFrame(()=>{c.value||(p.value=_.value.name)})},{immediate:!0}),(h,F)=>(i(),d("div",Te,[e("div",null,[e("p",Ue,n(h.$t("project name")),1)]),e("form",{ref_key:"form",ref:r,class:"_mt-12 _flex _h-36 _flex-row _items-center _justify-center _gap-20",onSubmit:J(x,["prevent"])},[e("input",{ref_key:"input",ref:a,value:s(p),name:"title",class:"_h-32 _flex-1 _text-heading-md _font-bold",disabled:!s(o),onKeydown:q(m,["esc"])},null,40,Me),e("div",He,[s(o)?(i(),d(K,{key:0},[f(D,{variant:"outline",size:"sm","button-type":"reset",onClick:m},{default:b(()=>[P(n(h.$t("confirm: cancel")),1)]),_:1}),f(D,{variant:"primary",size:"sm",loading:s(c),"button-type":"submit"},{default:b(()=>[P(n(h.$t("save")),1)]),_:1},8,["loading"])],64)):(i(),d("button",{key:1,class:"_h-28 _w-28 _rounded-full hover:_bg-gray-50",onClick:v},[f(ae,{icon:"edit",size:"md","icon-color":"gray-500"})]))])],544)]))}});z.__docgenInfo={exportName:"default",displayName:"DashboardGeneralTitle",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageGeneral/DashboardGeneralTitle.vue"]};const Be={class:"_mt-40"},ze={class:"_flex _flex-row _items-center _justify-start _gap-12"},Ae={class:"_text-md _font-bold"},Oe={class:"_flex _flex-row _items-center _justify-center _gap-8"},Ee={class:"_text-md"},Le={class:"_mt-8 _flex _h-44 _flex-row _items-center _justify-start _gap-12"},A=$({__name:"DashboardGeneralPassword",setup(l){const t=S(),o=T(),{project:c}=Y(),{showSnackBar:r}=Z(),a=u(()=>c.value.enable_password??!1),_=u(()=>c.value.subscriptionPlanTypeName===ee.Free),{accountProject:p}=X(),v=()=>{_.value?t.push("ModalUpgradeRequired"):p.value?.isOwnerRole?t.push("ModalPasswordProtectSetting"):r("info",o.t("PasswordError: only owner"))};return(m,x)=>{const h=N("PfButton");return i(),d("div",Be,[e("div",ze,[e("p",Ae,n(m.$t("PasswordPage: Password Protection")),1),e("div",Oe,[e("i",{class:y(["_h-8 _w-8 _rounded-full _bg-gray-300",{"_bg-[#81e216]":a.value}])},null,2),e("p",Ee,n(a.value?m.$t("PasswordPage: Enabled"):m.$t("PasswordPage: Disabled")),1)])]),e("div",Le,[f(h,{variant:"outline",size:"sm",onClick:v},{default:b(()=>[P(n(m.$t("PasswordPage: Settings")),1)]),_:1})])])}}});A.__docgenInfo={exportName:"default",displayName:"DashboardGeneralPassword",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageGeneral/DashboardGeneralPassword.vue"]};const Re={class:"_mt-40"},Ve={class:"_flex _flex-row _items-center _justify-start _gap-12"},qe={class:"_text-md _font-bold"},Ke={class:"_mt-8 _flex _h-44 _flex-row _items-center _justify-start _gap-12"},Je={class:"_flex _flex-row _items-center _gap-12"},Qe=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("rect",{x:"3",y:"4",width:"8",height:"10",rx:"1",stroke:"#CCCCCC","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M5 2H12C12.5523 2 13 2.44772 13 3V11.3333",stroke:"#CCCCCC","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"})],-1),We=[Qe],O=$({__name:"DashboardGeneralSiteMap",setup(l){const t=j(),o=u(()=>t.state.project.project),c=u(()=>o.value.enable_sitemap),r=u(()=>t.state.v2.url),a=w(!1),_=u(()=>o.value.verified?`https://${o.value.custom_domain}`:`${r.value.protocol}${o.value.subdomain||"________"}${r.value.domain}`),p=u(()=>o.value.verified?!0:!!o.value.subdomain),v=u(()=>_.value+"/sitemap.xml"),m=()=>{t.dispatch("project/editProject",{projectId:o.value.id,body:{enable_sitemap:!c.value}})},x=()=>{a.value||(navigator.clipboard.writeText(v.value),a.value=!0,setTimeout(()=>{a.value=!1},1500))};return(h,F)=>{const k=N("PfToggleSwitch"),G=Q("tooltip");return i(),d("div",Re,[e("div",Ve,[e("p",qe,n(h.$t("Sitemap")),1)]),e("div",Ke,[f(k,{"model-value":s(c),onClick:m},null,8,["model-value"]),e("div",Je,[e("p",{class:y(["_text-sm _text-black",{"_text-gray-300":!s(p)}])},n(s(v)),3),s(p)?W((i(),d("button",{key:0,class:"_flex _h-20 _w-20 _flex-col _items-center _justify-center _rounded-full hover:_bg-gray-50",onClick:x},We)),[[G,s(a)?{content:h.$t("copied"),showTriggers:["click"],hideTriggers:["hover"],delay:{show:0,hide:1e3},autoHide:!0}:{content:h.$t("copy URL"),delay:{show:0,hide:0}},void 0,{top:!0}]]):g("",!0)])])])}}});O.__docgenInfo={exportName:"default",displayName:"DashboardGeneralSiteMap",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageGeneral/DashboardGeneralSiteMap.vue"]};const Ye={id:"PagePdDashboardGeneral"},Ze={class:"_w-max-[1120px] _flex _w-full _flex-row _items-start _justify-start _gap-40"},Xe={class:"_flex _flex-1 _flex-col"},et={class:"_w-[380px]"},tt=$({__name:"PagePdDashboardGeneral",setup(l){const t=j(),o=u(()=>t.getters["studioProduct/isIphone"]);return(c,r)=>(i(),d("div",Ye,[f(s(se),null,{default:b(()=>[f(s(te),null,{default:b(()=>[P(n(c.$t("General")),1)]),_:1}),e("div",Ze,[e("div",Xe,[f(z),s(o)?g("",!0):(i(),C(B,{key:0})),f(H),s(o)?g("",!0):(i(),C(O,{key:1})),s(o)?g("",!0):(i(),C(A,{key:2}))]),e("div",et,[s(o)?g("",!0):(i(),C(he,{key:0}))])])]),_:1})]))}});tt.__docgenInfo={exportName:"default",displayName:"PagePdDashboardGeneral",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageGeneral/PagePdDashboardGeneral.vue"]};export{tt as default};
