import{f as T,x as $,b as d,e as F,w as G,G as l,H as i,A as e,N as s,K as b}from"./vue.esm-bundler-33967e91.js";import{bT as R,X as x,ar as r}from"./ModalPvLimitAlertView-cb9178ae.js";import{b as U,d as j,c as q}from"./Editor-e2ebb077.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const K=["viewBox"],L=["d"],V=["d"],B=T({__name:"NodeCardBackground",props:{node:{type:Object,required:!0},valueType:{type:String,default:""}},setup(u){const C=u,{node:a}=$(C),{selectedNodeId:k,hoveredNodeId:w,hasParent:H,draggingNode:E,findParent:f,zoom:y}=U(),m=d(null),{width:g,height:h}=R(m),c=d(0),p=d(0);d(x.generateUid()),d(x.generateUid());const _=F(()=>a.value.type==="repeat"?j(c.value,p.value):q(c.value,p.value)),n=r(()=>a.value.id===w.value),o=r(()=>a.value.id===k.value);r(()=>o.value?1:n.value?3:1);const S=r(()=>a.value.value==="$fn.arrayRange"||a.value.value==="$fn.arrayMap"||a.value.value==="$fn.arrayFilter"),N=r(()=>H(a.value.id));r(()=>!!E.value);const I=r(()=>{const t=f(a.value.id);return t?t&&t.children.findIndex(v=>a.value.id===v)===0:!1}),P=r(()=>{const t=f(a.value.id);return t?t&&t.children.findIndex(v=>a.value.id===v)===t.children.length-1:!1});return G([g,h],()=>{c.value=g.value/y.value,p.value=h.value/y.value},{immediate:!0}),(t,v)=>(l(),i("div",{ref_key:"el",ref:m,class:s(["NodeCardBackground",[e(a).type,{isSelected:e(o),isHovered:e(n)}]])},[e(a).type==="empty"?(l(),i("div",{key:0,class:s(["empty-border",{isSelected:e(o),isHovered:e(n)}])},null,2)):e(a).type==="comparisonExpression"||e(a).type==="logicalExpression"||e(a).type==="notExpression"||e(a).type==="if"||e(a).type==="ifElse"||e(a).type==="repeat"||u.valueType==="boolean"?(l(),i("svg",{key:1,viewBox:`0 0 ${c.value} ${p.value}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",class:s({hasParentNode:e(N)})},[b("path",{d:_.value,class:s(["svg-border",[{isSelected:e(o),isHovered:e(n)},e(a).type]])},null,10,L),b("path",{d:_.value,class:s(["svg-bg",[e(a).type]])},null,10,V)],10,K)):e(a).type==="pipeline"?(l(),i("div",{key:2,class:s(["group-border",[{isSelected:e(o),isHovered:e(n)},u.valueType]])},null,2)):(l(),i("div",{key:3,class:s(["simple-border",[{isSelected:e(o),isHovered:e(n),hasParentNode:e(N),enableChildren:e(S),isFirstChild:e(I),isLastChild:e(P)},u.valueType,e(a).type]])},null,2))],2))}});const D=z(B,[["__scopeId","data-v-effa92b5"]]);B.__docgenInfo={exportName:"default",displayName:"NodeCardBackground",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0},{name:"valueType",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardBackground.vue"]};export{D as N};
