import{f as V,x as b,e as d,b as D,a7 as E,G as o,H as t,K as u,F as f,U as l,A as c,S as n,Z as F,_ as H,Q as O,N as j,L as q,M as G}from"./vue.esm-bundler-33967e91.js";import{N as L}from"./NodeCardBackground-e1c3a5e9.js";import{V as N}from"./ValueInput-7a78c064.js";import{b as M,N as z}from"./Editor-e2ebb077.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./ModalPvLimitAlertView-cb9178ae.js";import"./vue-i18n.cjs-bd62fc86.js";import"./_commonjsHelpers-042e6b4d.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./iframe-4066d2cc.js";import"../sb-preview/runtime.js";import"./PfIcon-bb1c3c10.js";import"./mapValues-a1d744f5.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";const C=a=>(q("data-v-56510f07"),a=a(),G(),a),Q={class:"container"},R=C(()=>u("i",{class:"material-icons"},"play_arrow",-1)),Z={key:0,class:"material-icons"},$=C(()=>u("i",{class:"material-icons"},"play_arrow",-1)),J={key:0,class:"right-menu"},k=V({__name:"NodeCardAccessor",props:{node:{type:Object,required:!0}},setup(a){const B=a,{node:e}=b(B),{findNode:A,selectedNodeId:p,draggingNode:m,updateNode:h,isUsed:P}=M(),i=d(()=>e.value.children.map(s=>A(s))),I=d(()=>m.value?.id===e?.value?.id?!1:e.value.id===p.value||e.value.children.includes(p.value)),S=d(()=>e?.value?.id===p.value),v=s=>{h(s,{position:null}),h(e.value.id,{children:[...e.value.children,s]}),r.value=!1},r=D(!1),w=()=>r.value=!1,y=d(()=>m.value&&m.value.id!==e.value.id);return(s,g)=>{const x=E("click-outside");return o(),t("div",{class:j(["NodeCardAccessor",{canSelectChildren:I.value}])},[u("div",Q,[i.value.length===0?(o(),t(f,{key:0},[l(N,{node:c(e),onUpdate:v},null,8,["node"]),R],64)):n("",!0),(o(!0),t(f,null,F(i.value,(_,U)=>(o(),t("div",{key:_.id,class:"node-frame"},[U>0?(o(),t("i",Z,"play_arrow")):n("",!0),l(z,{node:_},null,8,["node"])]))),128)),i.value.length===1?(o(),t(f,{key:1},[$,l(N,{node:c(e),onUpdate:v},null,8,["node"])],64)):n("",!0),l(L,{node:c(e)},null,8,["node"])]),i.value.length>1&&(S.value||y.value)?H((o(),t("div",J,[u("i",{class:"material-icons",onClick:g[0]||(g[0]=_=>r.value=!r.value)},"play_arrow"),r.value||y.value?(o(),O(N,{key:0,node:c(e),onUpdate:v},null,8,["node"])):n("",!0)])),[[x,w]]):n("",!0)],2)}}});const ye=K(k,[["__scopeId","data-v-56510f07"]]);k.__docgenInfo={exportName:"default",displayName:"NodeCardAccessor",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardAccessor.vue"]};export{ye as default};
