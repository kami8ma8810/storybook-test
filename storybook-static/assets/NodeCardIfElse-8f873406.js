import{_ as j}from"./iframe-4066d2cc.js";import{ar as n,bT as R}from"./ModalPvLimitAlertView-cb9178ae.js";import{f as q,ah as z,x as G,e as L,b as E,O as h,G as a,H as m,K as r,N as i,U as v,Q as y,P as I,S as D,L as K,M as Q}from"./vue.esm-bundler-33967e91.js";import{F as J,b as W,e as X}from"./Editor-e2ebb077.js";import{N as Y}from"./NodeCardBackground-e1c3a5e9.js";import{V as Z}from"./ValueInput-7a78c064.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import"../sb-preview/runtime.js";import"./vue-i18n.cjs-bd62fc86.js";import"./_commonjsHelpers-042e6b4d.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./PfIcon-bb1c3c10.js";import"./mapValues-a1d744f5.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";const T=q({name:"NodeCardIfElse",props:{node:{type:Object,required:!0}},components:{FormulaInput:J,NodeCardBackground:Y,ValueInput:Z,NodeHandle:z(()=>j(()=>import("./Editor-e2ebb077.js").then(e=>e.k),["./Editor-e2ebb077.js","./vue.esm-bundler-33967e91.js","./ModalPvLimitAlertView-cb9178ae.js","./vue-i18n.cjs-bd62fc86.js","./_commonjsHelpers-042e6b4d.js","./ModalUpgradeRequired-a455cfd7.js","./BasicModal-000dc82b.js","./_plugin-vue_export-helper-c27b6911.js","./BasicModal-276b42ea.css","./PfButton-db6d6722.js","./PfIconContext-bd54ca9b.js","./ModalUpgradeRequired-1a015d77.css","./lodash-bf1bac5c.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-4066d2cc.js","./PfIcon-bb1c3c10.js","./mapValues-a1d744f5.js","./ModalPvLimitAlertView-c58a5858.css","./SelectSwitch-b6107958.js","./tiptap-extension-paragraph.esm-72054cce.js","./SelectSwitch-74fee1e2.css","./draggable-203bb716.js","./ApiIcon-4990672b.js","./ApiIcon-f6bf5922.css","./useSearch-b8b0ad67.js","./Editor-f05e9ae1.css"],import.meta.url))},setup(e){const{node:o}=G(e),{findNode:f,selectedNodeId:g,draggingNode:d,updateNode:l,isUsed:u}=W(),p=n(()=>o.value.args.map(t=>f(t))),N=n(()=>p.value.length),c=n(()=>p.value?.[0]),s=n(()=>o.value.children.map(t=>f(t))),M=n(()=>d.value?.id===o.value.id?!1:o.value.id===g.value||o.value.children.includes(g.value)),V=()=>{d.value&&d.value.id!==o.value.id&&(l(d.value.id,{position:null}),l(o.value.id,{args:[d.value.id]}))},b=(t,O)=>{const P=O===0?[t,o.value.children[1]||null]:[o.value.children[0]||null,t];l(o.value.id,{children:P})},{nodeResult:C}=X(L(()=>o.value.args[0])),S=n(()=>!!C.value),_=E(null),{height:B}=R(_),$=n(()=>B.value/2),H=n(()=>({marginTop:`${B.value/-2}px`})),F=E(null),{height:k}=R(F),U=n(()=>k.value/2),A=n(()=>({marginBottom:`${-k.value/2}px`})),w=n(()=>u(o.value.id));return{children:s,arg:c,args:p,hasArgs:N,canSelectChildren:M,onMouseup:V,nodeResult:C,isTrueResult:S,leftFrameRef:_,rightFrameRef:F,leftFrameStyle:H,childrenTopMargin:$,childrenBottomMargin:U,rightFrameStyle:A,showChildren:w,addFromInput:b,updateValue:t=>{l(t,{position:null}),l(o.value.id,{args:[t]})}}}});const ee=e=>(K("data-v-898dde8d"),e=e(),Q(),e),oe={class:"container"},ne=ee(()=>r("div",{class:"content"},[r("span",{class:"method-label"},"IF")],-1)),re={key:0,class:"node-frame"},te={key:0,class:"children-container"},ae={class:"lines"},se={key:1,class:"empty"},de={class:"node-framer-inner"},le={key:1,class:"empty"};function ie(e,o,f,g,d,l){const u=h("NodeHandle"),p=h("ValueInput"),N=h("NodeCardBackground"),c=h("FormulaInput");return a(),m("div",{class:i(["NodeCardIfElse",{canSelectChildren:e.canSelectChildren}]),style:I({marginTop:`${e.childrenTopMargin}px`,marginBottom:`${e.childrenBottomMargin}px`})},[r("div",oe,[ne,r("div",{class:i(["args-container",{hasArgs:e.hasArgs}]),onMouseup:o[0]||(o[0]=(...s)=>e.onMouseup&&e.onMouseup(...s))},[e.arg?(a(),m("div",re,[v(u,{node:e.arg},null,8,["node"])])):(a(),y(p,{key:1,node:e.node,"allow-type":"boolean",onUpdate:e.updateValue},null,8,["node","onUpdate"]))],34),v(N,{node:e.node},null,8,["node"])]),e.showChildren?(a(),m("div",te,[r("div",ae,[r("div",{class:i(["node-line",{active:e.isTrueResult}])},null,2),r("div",{class:i(["node-line bottom",{active:!e.isTrueResult}])},null,2)]),r("div",{ref:"leftFrameRef",class:i(["node-frame left",{disableResult:!e.isTrueResult,noChild:!e.children[1]}]),style:I({marginTop:`${-e.childrenTopMargin}px`})},[e.children[1]?(a(),y(u,{key:0,node:e.children[1]},null,8,["node"])):(a(),m("div",se,[v(c,{types:["formula"],node:e.node,onUpdate:o[1]||(o[1]=s=>e.addFromInput(s,1))},null,8,["node"])]))],6),r("div",{ref:"rightFrameRef",class:i(["node-frame right",{disableResult:e.isTrueResult,noChild:!e.children[0]}]),style:I({marginBottom:`${-e.childrenBottomMargin}px`})},[r("div",de,[e.children[0]?(a(),y(u,{key:0,node:e.children[0]},null,8,["node"])):(a(),m("div",le,[v(c,{types:["formula"],node:e.node,onUpdate:o[2]||(o[2]=s=>e.addFromInput(s,0))},null,8,["node"])]))])],6)])):D("",!0)],6)}const He=x(T,[["render",ie],["__scopeId","data-v-898dde8d"]]);T.__docgenInfo={displayName:"NodeCardIfElse",exportName:"default",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardIfElse.vue"]};export{He as default};
