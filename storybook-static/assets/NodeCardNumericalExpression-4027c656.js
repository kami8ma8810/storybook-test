import{_ as O}from"./iframe-4066d2cc.js";import{f as $,ah as I,x as M,b,O as h,a7 as U,G as n,H as t,K as i,U as N,Q as k,N as _,_ as H,F as w,Z as D,W as L,S as R}from"./vue.esm-bundler-33967e91.js";import{N as S}from"./NodeCardBackground-e1c3a5e9.js";import{V as F}from"./ValueInput-7a78c064.js";import{b as j}from"./Editor-e2ebb077.js";import{ar as l}from"./ModalPvLimitAlertView-cb9178ae.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"../sb-preview/runtime.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjsHelpers-042e6b4d.js";import"./vue-i18n.cjs-bd62fc86.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./PfIcon-bb1c3c10.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./mapValues-a1d744f5.js";const y=$({name:"NodeCardNumericalExpression",props:{node:{type:Object,required:!0}},components:{ValueInput:F,NodeCardBackground:S,NodeHandle:I(()=>O(()=>import("./Editor-e2ebb077.js").then(e=>e.k),["./Editor-e2ebb077.js","./vue.esm-bundler-33967e91.js","./ModalPvLimitAlertView-cb9178ae.js","./vue-i18n.cjs-bd62fc86.js","./_commonjsHelpers-042e6b4d.js","./ModalUpgradeRequired-a455cfd7.js","./BasicModal-000dc82b.js","./_plugin-vue_export-helper-c27b6911.js","./BasicModal-276b42ea.css","./PfButton-db6d6722.js","./PfIconContext-bd54ca9b.js","./ModalUpgradeRequired-1a015d77.css","./lodash-bf1bac5c.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-4066d2cc.js","./PfIcon-bb1c3c10.js","./mapValues-a1d744f5.js","./ModalPvLimitAlertView-c58a5858.css","./SelectSwitch-b6107958.js","./tiptap-extension-paragraph.esm-72054cce.js","./SelectSwitch-74fee1e2.css","./draggable-203bb716.js","./ApiIcon-4990672b.js","./ApiIcon-f6bf5922.css","./useSearch-b8b0ad67.js","./Editor-f05e9ae1.css"],import.meta.url))},setup(e){const{node:o}=M(e),{findNode:g,selectedNodeId:m,draggingNode:f,updateNode:r}=j(),a=l(()=>o.value.args.map(s=>g(s))),u=l(()=>f.value?.id===o.value.id?!1:o.value.id===m.value||o.value.args.includes(m.value)),p=l(()=>a.value[0]),c=l(()=>a.value[1]),d=s=>{r(s,{position:null}),r(o.value.id,{args:[s,c.value?.id||null]})},C=s=>{r(s,{position:null}),r(o.value.id,{args:[p.value?.id||null,s]})},E=l(()=>["+","-","*","/","%"]),B=l(()=>({"+":"plus","-":"minus","*":"times","/":"obelus","%":"modulus"})),V=s=>{v.value=!1,r(o.value.id,{value:s})},v=b(!1);return{args:a,canSelectChildren:u,updateLeft:d,updateRight:C,leftNode:p,rightNode:c,numericalOperators:E,operatorsMap:B,onChangeValue:V,isOpen:v,closeMenu:()=>{v.value=!1},draggingNode:f}}});const A={key:0,class:"node-frame"},G={width:"17",height:"17"},P=["href"],z={key:0,class:"menu"},K={class:"operators"},Q=["onClick"],T={width:"17",height:"17"},W=["href"],Z={key:0,class:"node-frame"};function J(e,o,g,m,f,r){const a=h("NodeHandle"),u=h("ValueInput"),p=h("NodeCardBackground"),c=U("click-outside");return n(),t("div",{class:_(["NodeCardNumericalExpression",{canSelectChildren:e.canSelectChildren}])},[i("div",{class:_(["children-container",{hasChild:e.leftNode}])},[e.leftNode?(n(),t("div",A,[N(a,{node:e.leftNode},null,8,["node"])])):(n(),k(u,{key:1,node:e.node,onUpdate:e.updateLeft},null,8,["node","onUpdate"]))],2),i("div",{class:"center",onDblclick:o[0]||(o[0]=d=>e.isOpen=!0)},[(n(),t("svg",G,[i("use",{href:`#i-17-${e.operatorsMap[e.node.value]}`},null,8,P)])),e.isOpen?H((n(),t("div",z,[i("div",K,[(n(!0),t(w,null,D(e.numericalOperators,d=>(n(),t("div",{key:d,class:"operator",onClick:L(C=>e.onChangeValue(d),["stop"])},[(n(),t("svg",T,[i("use",{href:`#i-17-${e.operatorsMap[d]}`},null,8,W)]))],8,Q))),128))])])),[[c,e.closeMenu]]):R("",!0)],32),i("div",{class:_(["children-container",{hasChild:e.rightNode}])},[e.rightNode?(n(),t("div",Z,[N(a,{node:e.rightNode},null,8,["node"])])):(n(),k(u,{key:1,node:e.node,onUpdate:e.updateRight},null,8,["node","onUpdate"]))],2),N(p,{node:e.node},null,8,["node"])],2)}const ke=q(y,[["render",J],["__scopeId","data-v-42acf859"]]);y.__docgenInfo={displayName:"NodeCardNumericalExpression",exportName:"default",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardNumericalExpression.vue"]};export{ke as default};
