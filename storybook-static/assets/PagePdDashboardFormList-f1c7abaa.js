import{f as S,O as h,H as a,K as o,Q as _,S as f,J as m,G as s,x as W,e as D,F as b,N as R,W as L,L as E,M,Z as C,R as k,V as Y,U as y,P as O,_ as P,$ as z,b as ge,A as N,q as fe,Y as ye,ad as U,ac as H,a7 as ve,I as _e}from"./vue.esm-bundler-33967e91.js";import{e$ as B,f0 as T,f1 as Ie,f2 as ke,f3 as be,a_ as j,G as Se,f4 as $e,f5 as Fe,aA as X,f6 as Q,f7 as J,cm as Re,f8 as Ce,E as A,f9 as Te,fa as De}from"./ModalPvLimitAlertView-cb9178ae.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{B as we,u as Pe}from"./textToLink-27c7a369.js";import{S as Ee,_ as Me}from"./Scroller-0cfa9fde.js";import je from"./LoadingContainer-24b78895.js";import"./vue-i18n.cjs-bd62fc86.js";import"./_commonjsHelpers-042e6b4d.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./iframe-4066d2cc.js";import"../sb-preview/runtime.js";import"./PfIcon-bb1c3c10.js";import"./mapValues-a1d744f5.js";const Z=S({components:{SvgElement:B},props:{value:{type:Object,required:!0}},computed:{svgNameByFileType(){if(!T(this.value))return"";const e=this.value.type;return ke(e)},fileShortName(){if(!T(this.value))return"";const e=this.value.name;return Ie(e)}}});const Le={class:"FormTableItemFileRender"},Oe={class:"svg-wrap"},Ne={class:"file-text"};function Ae(e,t,r,c,l,p){const i=h("SvgElement");return s(),a("div",Le,[o("div",Oe,[e.svgNameByFileType?(s(),_(i,{key:0,name:e.svgNameByFileType,width:"15"},null,8,["name"])):f("",!0)]),o("p",Ne,m(e.fileShortName),1)])}const Ue=$(Z,[["render",Ae],["__scopeId","data-v-1b967dbd"]]);Z.__docgenInfo={exportName:"default",displayName:"FormTableItemFileRender",description:"",tags:{},props:[{name:"value",type:{name:"FormFile"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTableItemFileRender.vue"]};const x=S({name:"FormTableItemStringRender",components:{Badge:we},props:{value:{type:String,required:!0},type:{type:String,required:!0},isLongText:{type:Boolean,default:!1}},setup(e){const{value:t,type:r}=W(e),{textToLink:c}=Pe(),l=D(()=>["RADIO","CHECKBOX","SELECT"].includes(r.value)),p=D(()=>r.value==="EMAIL"&&be(t.value)),i=D(()=>Array.isArray(t.value)||T(t.value)?!1:r.value==="CHECKBOX"&&["on",""].includes(t.value));return{isBadgeItem:l,isEmail:p,isSingleCheckbox:i,textToLink:c}}});const He=e=>(E("data-v-153ec5ae"),e=e(),M(),e),Be={class:"FormTableItemStringRender"},qe={key:0},Ve=He(()=>o("i",{class:"material-icons"},"check",-1)),Ke=[Ve],Ge=["href"],We=["is-long-text","innerHTML"];function Ye(e,t,r,c,l,p){const i=h("Badge");return s(),a("div",Be,[e.value?(s(),a(b,{key:0},[e.isSingleCheckbox?(s(),a("div",qe,[o("span",{class:R(["checkbox-parts",{checked:e.value==="on"}])},Ke,2)])):e.isBadgeItem?(s(),_(i,{key:1,label:e.value},null,8,["label"])):e.isEmail?(s(),a("a",{key:2,class:"text",href:`mailto:${e.value}`,onClick:t[0]||(t[0]=L(()=>{},["stop"]))},m(e.value),9,Ge)):(s(),a("p",{key:3,class:"text","is-long-text":e.isLongText,innerHTML:e.textToLink(e.value)},null,8,We))],64)):f("",!0)])}const ze=$(x,[["render",Ye],["__scopeId","data-v-153ec5ae"]]);x.__docgenInfo={displayName:"FormTableItemStringRender",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string"},required:!0},{name:"type",type:{name:"DataType"},required:!0},{name:"isLongText",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTableItemStringRender.vue"]};const ee=S({components:{FormTableItemFileRender:Ue,FormTableItemStringRender:ze},props:{recordDataItem:{type:Object,required:!1,default:null},isLongText:{type:Boolean,default:!1}},computed:{isString(){return j(this.recordDataItem.val)},isMultiple(){return Array.isArray(this.recordDataItem.val)},isFile(){return T(this.recordDataItem.val)},recordDataItemValString(){return j(this.recordDataItem.val)?this.recordDataItem.val:""},recordDataItemValArray(){return Array.isArray(this.recordDataItem.val)?this.recordDataItem.val.slice(0,2).filter((e,t)=>!t||this.isStringContent(e)):[]},recordDataItemValFile(){return T(this.recordDataItem.val)?this.recordDataItem.val:null},recordDataItemValArrayIs3OrMore(){return Array.isArray(this.recordDataItem.val)?this.recordDataItem.val.length>2:!1}},methods:{isStringContent(e){return j(e)}}});const Xe=e=>(E("data-v-ba63985e"),e=e(),M(),e),Qe={class:"FormTableItem"},Je={key:1,class:"fields"},Ze={key:"more",class:"field"},xe=Xe(()=>o("span",{class:"and-more"},"â€¦",-1)),et=[xe];function tt(e,t,r,c,l,p){const i=h("FormTableItemStringRender"),d=h("FormTableItemFileRender");return s(),a("div",Qe,[e.recordDataItem?(s(),a(b,{key:0},[e.isString?(s(),_(i,{key:0,type:e.recordDataItem.type,value:e.recordDataItemValString,"is-long-text":e.isLongText},null,8,["type","value","is-long-text"])):e.isMultiple?(s(),a("div",Je,[(s(!0),a(b,null,C(e.recordDataItemValArray,(n,g)=>(s(),a("div",{key:g,class:"field"},[e.isStringContent(n)?(s(),_(i,{key:0,value:n,type:e.recordDataItem.type,"is-long-text":e.isLongText},null,8,["value","type","is-long-text"])):(s(),_(d,{key:1,value:n},null,8,["value"]))]))),128)),e.recordDataItemValArrayIs3OrMore?(s(),a("div",Ze,et)):f("",!0)])):e.isFile?(s(),_(d,{key:2,value:e.recordDataItemValFile},null,8,["value"])):f("",!0)],64)):f("",!0)])}const te=$(ee,[["render",tt],["__scopeId","data-v-ba63985e"]]);ee.__docgenInfo={exportName:"default",displayName:"FormTableItem",description:"",tags:{},props:[{name:"recordDataItem",type:{name:"FormRecordDataItem"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"isLongText",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTableItem.vue"]};const oe=S({components:{FormTableItem:te},props:{filteredRecords:{type:Array},checkRecordIds:{type:Array}},computed:{displayColumns(){return this.$store.getters["projectForm/getDisplayColumns"](this.$route.params.formId)},filteredDisplayColumns(){return this.displayColumns.slice(0,3)},isDragging(){return this.$store.state.projectForm.isDragging},draggingRecordIdLength(){return this.checkRecordIds.length},mousePosition(){return this.$store.state.projectForm.mousePosition},records(){return this.filteredRecords.filter(e=>this.checkRecordIds.includes(e.recordId)).slice(0,10)},styles(){return{top:`${this.mousePosition.y+15}px`,left:`${this.mousePosition.x+10}px`}},hasMovingRecord(){return this.checkRecordIds.length>0}}});const ot={class:"draggingRecordIdLength"},st={class:"record-item -date"},rt={class:"date-inner"},at={class:"createdAt"},nt={key:0,class:"isPreview"};function it(e,t,r,c,l,p){const i=h("FormTableItem");return s(),_(Y,null,{default:k(()=>[e.isDragging?(s(),a("div",{key:0,class:R(["Dragging",{hasMovingRecord:e.hasMovingRecord}]),style:O(e.styles)},[o("div",ot,m(e.draggingRecordIdLength),1),(s(!0),a(b,null,C(e.records,d=>(s(),a("div",{key:d.recordId,class:"record"},[(s(!0),a(b,null,C(e.filteredDisplayColumns,n=>(s(),a("div",{key:n.name,class:"record-item -text"},[y(i,{"record-data-item":d.dataMap&&d.dataMap[n.name]},null,8,["record-data-item"])]))),128)),o("div",st,[o("div",rt,[o("p",at,m(d.createdAtString),1),d.isPreview?(s(),a("p",nt,m(e.$t("form: Sent from Live Preview")),1)):f("",!0)])])]))),128))],6)):f("",!0)]),_:1})}const dt=$(oe,[["render",it],["__scopeId","data-v-3d607d13"]]);oe.__docgenInfo={exportName:"default",displayName:"Dragging",description:"",tags:{},props:[{name:"filteredRecords",type:{name:"UsefulProjectFormRecord[]"}},{name:"checkRecordIds",type:{name:"string[]"}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormList/Dragging.vue"]};const se=S({props:{value:{type:String,default:""}},computed:{inputKeyword:{get(){return this.value},set(e){this.$emit("update:value",e)}},hasKeyword(){return this.inputKeyword.length>0}},methods:{cancel(){this.inputKeyword="",this.$refs.input.blur()},onKeydown(e){const{key:t,isComposing:r}=e;!r&&t==="Escape"&&(e.preventDefault(),this.cancel())}}});const ct=e=>(E("data-v-46f37433"),e=e(),M(),e),lt=ct(()=>o("ion-icon",{class:"icon",name:"search-outline"},null,-1)),mt=["placeholder"];function ut(e,t,r,c,l,p){return s(),a("div",{class:R(["SearchBox",{hasKeyword:e.hasKeyword}])},[lt,P(o("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=i=>e.inputKeyword=i),class:R([{hasKeyword:e.hasKeyword},"input-keyword"]),placeholder:e.$t("search"),onKeydown:t[1]||(t[1]=(...i)=>e.onKeydown&&e.onKeydown(...i))},null,42,mt),[[z,e.inputKeyword]]),e.hasKeyword?(s(),a("i",{key:0,class:"material-icons-outlined cancel-icon",onClick:t[2]||(t[2]=L((...i)=>e.cancel&&e.cancel(...i),["stop"]))},"close")):f("",!0)],2)}const pt=$(se,[["render",ut],["__scopeId","data-v-46f37433"]]);se.__docgenInfo={exportName:"default",displayName:"SearchBox",description:"",tags:{},props:[{name:"value",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"update:value",type:{names:["undefined"]}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormList/SearchBox.vue"]};const re=S({name:"StatusNormal",components:{SvgElement:B},props:{status:{type:Object},selectedStatusId:{type:String},haveCheckRecord:{type:Boolean},movingRecordIds:{type:Array}},setup(e,t){const r=Se(),{status:c,selectedStatusId:l,haveCheckRecord:p,movingRecordIds:i}=W(e),d=D(()=>i.value.length>0),n=D(()=>r.state.projectForm.isDragging);return{isMoving:d,isDragging:n,click:()=>{c.value.id!==l.value&&t.emit("handleStatusClick",c.value.id)},onDrop:()=>{n.value&&c.value.id!==l.value&&t.emit("handleStatusDrop",c.value.id)}}}});const ht={key:0,class:"spinner black"},gt={class:"text"},ft={class:"record-sum"};function yt(e,t,r,c,l,p){const i=h("SvgElement");return s(),a("div",{class:R(["StatusNormal __droppable__",{selected:e.status.id===e.selectedStatusId,haveCheckRecord:e.haveCheckRecord,isMoving:e.isMoving}]),onClick:t[0]||(t[0]=(...d)=>e.click&&e.click(...d)),onMouseup:t[1]||(t[1]=(...d)=>e.onDrop&&e.onDrop(...d))},[e.status.loading?(s(),a("div",ht)):e.haveCheckRecord&&e.status.id!==e.selectedStatusId?(s(),_(i,{key:1,name:"forward_arrow",width:"15",height:"15",class:"move-icon"})):f("",!0),o("span",gt,m(e.$t(e.status.name)),1),o("span",ft,m(e.status.recordSum),1)],34)}const vt=$(re,[["render",yt],["__scopeId","data-v-cf21c3e0"]]);re.__docgenInfo={displayName:"StatusNormal",exportName:"default",description:"",tags:{},props:[{name:"status",type:{name:"StatusOption"}},{name:"selectedStatusId",type:{name:"string"}},{name:"haveCheckRecord",type:{name:"boolean"}},{name:"movingRecordIds",type:{name:"string[]"}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormList/StatusNormal.vue"]};const _t={class:"MultiSelector"},It=["placeholder"],kt={class:"options"},bt=["onClick"],St=["checked"],$t={key:0,class:"material-icons-outlined option-icon"},Ft=["selected"],Rt={key:0,class:"option","no-result":""},ae=S({__name:"MultiSelector",props:{itemRenderer:{type:Object},value:{type:Array,default:()=>[]},options:{type:Array},enableSearch:{type:Boolean,default:!0}},emits:["update:value","close"],setup(e,{emit:t}){const r=e,c=t,l=ge(""),p=D(()=>r.options.length>0&&r.checkOptions.length===0),i=D(()=>{let v=r.options;if(l.value.length>0){const u=new RegExp(l.value.toLocaleLowerCase().split("").join(".*"),"i");v=v.filter(w=>u.test(w.label.toLocaleLowerCase()))}const F=(r.value||[]).reduce((u,w)=>({...u,[w]:!0}),{});return v.map(u=>({...u,checked:F[u.value]}))}),d=v=>{let F;v.checked?F=r.value.filter(u=>u!==v.value):F=r.value.concat([v.value]),c("update:value",F)},n=v=>{if(!v.isComposing)switch(v.key){case"Enter":case"Escape":g();return}},g=()=>{c("close")};return(v,F)=>(s(),a("div",_t,[e.enableSearch?P((s(),a("input",{key:0,ref:"input","onUpdate:modelValue":F[0]||(F[0]=u=>fe(l)?l.value=u:null),placeholder:v.$t("CMS:Search"),class:"search-input",onKeydown:n},null,40,It)),[[z,N(l)]]):f("",!0),o("ul",kt,[(s(!0),a(b,null,C(N(i),u=>(s(),a("li",{key:u.value,class:"option",onClick:w=>d(u)},[o("input",{class:"checkbox",type:"checkbox",checked:u.checked},null,8,St),ye(v.$slots,"default",{option:u},()=>[u.icon?(s(),a("i",$t,m(u.icon),1)):f("",!0),u.image?(s(),a("div",{key:1,class:"option-image",style:O(u.image!=="no-image"?`background-image:url(${u.image})`:"")},null,4)):f("",!0),o("p",{class:"option-label",selected:u.checked},m(u.label),9,Ft)],!0)],8,bt))),128)),N(p)?(s(),a("li",Rt,"No search result")):f("",!0)])]))}});const Ct=$(ae,[["__scopeId","data-v-cc290ed1"]]);ae.__docgenInfo={exportName:"default",displayName:"MultiSelector",description:"",tags:{},props:[{name:"itemRenderer",type:{name:"object"}},{name:"value",type:{name:"string[]"},defaultValue:{func:!0,value:"() => []"}},{name:"options",type:{name:"SelectOption[]"}},{name:"enableSearch",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"update:value"},{name:"close"}],slots:[{name:"default",scoped:!0,bindings:[{name:"option",title:"binding"}]}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/piano/form/MultiSelector.vue"]};const ne=S({components:{PopupLayer:$e,MultiSelector:Ct},props:{formId:{type:String},formColumn:{type:Object},selectedOptions:{type:Array}},data:()=>({isOpen:!1}),computed:{filteredRecords(){return this.$store.getters["projectForm/getFilterdRecordsWithExceptColumnName"](this.formColumn.name)},columnSelected(){return this.selectedOptions.length>0},enableFilter(){return this.formColumn.types.some(e=>Fe(e))},enableSearch(){return!this.formColumn.selectOptions.every(e=>["on","off"].includes(e.value))}},methods:{open(){this.isOpen=!this.isOpen},close(){this.isOpen=!1},reset(){this.$emit("reset"),this.close()},selectItems(e){this.$emit("input",e)},getFilterCount(e){return this.filteredRecords.filter(t=>{const r=t.dataMap[this.formColumn.name];return r?T(r.val)?!1:(j(r.val)?[r.val]:r.val).some(l=>l===e):e==="off"}).length}}});const Tt=["data-type","is-long-text","disabled"],Dt=["opened","selected"],wt={class:"field-name"},Pt={key:0,class:"material-icons-outlined icon"},Et=["selected"],Mt={class:"option-count"};function jt(e,t,r,c,l,p){const i=h("MultiSelector"),d=h("PopupLayer");return s(),a("div",{class:"FormTableHeaderColumn","data-type":e.formColumn.types,"is-long-text":e.formColumn.maxLength>200,disabled:!e.enableFilter},[o("div",{class:"value-block",opened:e.isOpen,selected:e.columnSelected,onClick:t[1]||(t[1]=(...n)=>e.open&&e.open(...n))},[o("div",wt,m(e.formColumn.name),1),e.enableFilter?(s(),a("i",Pt,"filter_list")):f("",!0),o("i",{class:"material-icons-outlined cancel-icon",onClick:t[0]||(t[0]=L((...n)=>e.reset&&e.reset(...n),["stop"]))},"close")],8,Dt),e.isOpen?(s(),_(d,{key:0,"auto-reflect":!1,onClickOutside:e.close},{default:k(()=>[y(i,{class:"filter-selector","enable-search":e.enableSearch,options:e.formColumn.selectOptions,value:e.selectedOptions,"onUpdate:value":t[2]||(t[2]=n=>e.selectItems(n)),onClose:e.close},{default:k(n=>[o("p",{class:"option-label",selected:n.option.checked},m(n.option.label),9,Et),o("div",Mt,m(e.getFilterCount(n.option.value)),1)]),_:1},8,["enable-search","options","value","onClose"])]),_:1},8,["onClickOutside"])):f("",!0)],8,Tt)}const Lt=$(ne,[["render",jt],["__scopeId","data-v-0811cb5e"]]);ne.__docgenInfo={exportName:"default",displayName:"FormTableHeaderColumn",description:"",tags:{},props:[{name:"formId",type:{name:"string"}},{name:"formColumn",type:{name:"FormColumn"}},{name:"selectedOptions",type:{name:"string[]"}}],events:[{name:"reset"},{name:"input",type:{names:["undefined"]}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTableHeaderColumn.vue"]};const ie=S({props:{columnName:{type:String},selectedSortDirection:{type:String}},computed:{sortIcon(){return this.selectedSortDirection==="desc"?"expand_more":"expand_less"}},mounted(){},methods:{toggleSortDirection(){this.$emit("input",this.selectedSortDirection==="asc"?"desc":"asc")}}});const Ot={class:"FormTableHeaderColumnDate","data-type":"date"},Nt={class:"field-name"},At={class:"material-icons-outlined icon"};function Ut(e,t,r,c,l,p){return s(),a("div",Ot,[o("div",{class:"value-block",onClick:t[0]||(t[0]=(...i)=>e.toggleSortDirection&&e.toggleSortDirection(...i))},[o("div",Nt,m(e.columnName),1),o("i",At,m(e.sortIcon),1)])])}const Ht=$(ie,[["render",Ut],["__scopeId","data-v-61e24710"]]);ie.__docgenInfo={exportName:"default",displayName:"FormTableHeaderColumnDate",description:"",tags:{},props:[{name:"columnName",type:{name:"string"}},{name:"selectedSortDirection",type:{name:"SortDirection"}}],events:[{name:"input",type:{names:["undefined"]}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTableHeaderColumnDate.vue"]};const de=S({components:{FormTableHeaderColumn:Lt,FormTableHeaderColumnDate:Ht},props:{formId:{type:String},checkedAllRecord:Boolean,haveCheckRecord:Boolean,toggleCheckbox:Function,tableWidth:{type:Number,required:!1,default:0}},computed:{displayColumns(){return this.$store.getters["projectForm/getDisplayColumns"](this.formId)},selectedColumnOptionMap(){return this.$store.state.projectForm.selectedColumnOptionMap},selectedSortColumnName(){return this.$store.state.projectForm.selectedSortColumnName},selectedSortDirection(){return this.$store.state.projectForm.selectedSortDirection},dateOption(){return{name:"date",maxLength:0,types:[],selectOptions:[]}}},methods:{getSelectedOptionsByColumnName(e){return this.selectedColumnOptionMap[e]||[]},setFilter(e,t){this.$store.commit("projectForm/SET_SELECTED_COLUMN_OPTION",{columnName:e,options:t})},setSortDirection(e="desc"){this.$store.commit("projectForm/SET_SELECTED_SORT_COLUMN_NAME","Date"),this.$store.commit("projectForm/SET_SELECTED_SORT_DIRECTION",e)}}});const Bt={class:"FormTableHeaderColumnCheckbox"},qt=["checked"],Vt={key:0,class:"material-icons"},Kt={key:1,name:"remove-outline"};function Gt(e,t,r,c,l,p){const i=h("FormTableHeaderColumn"),d=h("FormTableHeaderColumnDate");return s(),a("div",{class:"thead",style:O({width:`${e.tableWidth}px`})},[o("div",Bt,[o("label",{checked:e.checkedAllRecord||e.haveCheckRecord},[o("span",{class:"checkbox-parts",onClick:t[0]||(t[0]=(...n)=>e.toggleCheckbox&&e.toggleCheckbox(...n))},[e.checkedAllRecord?(s(),a("i",Vt,"check")):e.haveCheckRecord?(s(),a("ion-icon",Kt)):f("",!0)])],8,qt)]),(s(!0),a(b,null,C(e.displayColumns,n=>(s(),_(i,{key:n.name,"form-id":e.formId,"form-column":n,"selected-options":e.getSelectedOptionsByColumnName(n.name),onReset:g=>e.setFilter(n.name,[]),onInput:g=>e.setFilter(n.name,g)},null,8,["form-id","form-column","selected-options","onReset","onInput"]))),128)),y(d,{"selected-sort-direction":e.selectedSortDirection,"column-name":e.$t("form: Date"),onInput:e.setSortDirection},null,8,["selected-sort-direction","column-name","onInput"])],4)}const Wt=$(de,[["render",Gt],["__scopeId","data-v-b985eb4a"]]);de.__docgenInfo={exportName:"default",displayName:"FormTableHeader",description:"",tags:{},props:[{name:"formId",type:{name:"string"}},{name:"checkedAllRecord",type:{name:"boolean"}},{name:"haveCheckRecord",type:{name:"boolean"}},{name:"toggleCheckbox",type:{name:"func"}},{name:"tableWidth",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"0"}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTableHeader.vue"]};const V=5,ce=S({components:{FormTableItem:te},props:{recordId:{type:String},record:{type:Object},checkRecordIds:{type:Array,default:()=>[]},haveCheckRecord:{type:Boolean},checkMap:{type:Object},movingRecordIds:{type:Array},displayColumns:{type:Array},handleClickRecord:{type:Function,required:!0},handleClickCheckbox:{type:Function,required:!0},tableWidth:{type:Number,required:!1,default:0},isLastTouchedRecord:{type:Boolean,required:!0}},data:()=>({targetRecordId:null,startMouseClientX:0,startMouseClientY:0}),methods:{isMovingRecord(e){return this.movingRecordIds.includes(e)},onClick(e){this.handleClickRecord(e)},onMousedown(e,t){this.startMouseClientX=e.clientX,this.startMouseClientY=e.clientY,this.targetRecordId=t,this.$store.commit("projectForm/SET_MOUSE_POSITION",{x:e.clientX,y:e.clientY}),document.addEventListener("mousemove",this.onDragInit),document.addEventListener("mouseup",this.onDragEnd),e.stopPropagation()},onDragInit(e){const t=e.clientX-this.startMouseClientX,r=e.clientY-this.startMouseClientY;Math.abs(t)<V&&Math.abs(r)<V||(this.checkMap[this.targetRecordId]||this.handleClickCheckbox(e,this.targetRecordId),this.$store.commit("projectForm/SET_DRAGGING",!0),document.removeEventListener("mousemove",this.onDragInit),document.addEventListener("mousemove",this.onDrag),e.stopPropagation())},onDrag(e){this.$store.commit("projectForm/SET_MOUSE_POSITION",{x:e.clientX,y:e.clientY})},onDragEnd(){setTimeout(()=>{this.$store.commit("projectForm/SET_MOUSE_POSITION",{x:0,y:0}),this.$store.commit("projectForm/SET_DRAGGING",!1)},0),document.removeEventListener("mousemove",this.onDragInit),document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("mouseup",this.onDragEnd)}}});const Yt=e=>(E("data-v-1a4459be"),e=e(),M(),e),zt=["checked","is-moving","selected","is-preview"],Xt=Yt(()=>o("span",{class:"checkbox-parts"},[o("i",{class:"material-icons"},"check")],-1)),Qt=[Xt],Jt=["data-type","is-long-text"],Zt={class:"tbody-td -date"},xt={class:"_flex _flex-col _items-start _justify-start _gap-3"},eo={class:"_text-sm2"},to={key:0,class:"_text-xs _text-gray-500"};function oo(e,t,r,c,l,p){const i=h("FormTableItem");return s(),a("div",{class:"FormTableRow",checked:!!e.checkMap[e.record.recordId],"is-moving":e.isMovingRecord(e.record.recordId),selected:e.recordId===e.record.recordId,"is-preview":e.record.isPreview,style:O({width:`${e.tableWidth}px`}),onClick:t[2]||(t[2]=d=>e.onClick(e.record.recordId)),onMousedown:t[3]||(t[3]=d=>e.onMousedown(d,e.record.recordId))},[o("div",{class:R(["tbody-td -checkbox",{isLastTouchedRecord:e.isLastTouchedRecord}]),onClick:t[1]||(t[1]=L(()=>{},["stop"]))},[o("label",{onClick:t[0]||(t[0]=d=>e.handleClickCheckbox(d,e.record.recordId))},Qt)],2),(s(!0),a(b,null,C(e.displayColumns,d=>(s(),a("div",{key:d.name,class:"tbody-td -text","data-type":d.types,"is-long-text":d.maxLength>200},[y(i,{"record-data-item":e.record.dataMap&&e.record.dataMap[d.name],"is-long-text":d.maxLength>200},null,8,["record-data-item","is-long-text"])],8,Jt))),128)),o("div",Zt,[o("div",xt,[o("p",eo,m(e.record.createdAtString),1),e.record.isPreview?(s(),a("p",to,m(e.$t("form: Sent from Live Preview")),1)):f("",!0)])])],44,zt)}const so=$(ce,[["render",oo],["__scopeId","data-v-1a4459be"]]);ce.__docgenInfo={exportName:"default",displayName:"FormTableRow",description:"",tags:{},props:[{name:"recordId",type:{name:"string"}},{name:"record",type:{name:"UsefulProjectFormRecord"}},{name:"checkRecordIds",type:{name:"string[]"},defaultValue:{func:!0,value:"() => []"}},{name:"haveCheckRecord",type:{name:"boolean"}},{name:"checkMap",type:{name:"object"}},{name:"movingRecordIds",type:{name:"string[]"}},{name:"displayColumns",type:{name:"FormColumn[]"}},{name:"handleClickRecord",type:{name:"func"},required:!0},{name:"handleClickCheckbox",type:{name:"func"},required:!0},{name:"tableWidth",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"0"}},{name:"isLastTouchedRecord",type:{name:"boolean"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTableRow.vue"]};const K=80,le=S({components:{Scroller:Ee,PopOverPanel:X,FormTableHeader:Wt,FormTableRow:so},props:{formId:{type:String},recordId:{type:String},form:{type:Object,required:!1,default:null},filteredRecords:{type:Array},checkRecordIds:{type:Array},checkRecordLength:{type:Number},haveCheckRecord:{type:Boolean},checkMap:{type:Object},movingRecordIds:{type:Array},updateCheckMap:{type:Function,required:!0},handleClickRecord:{type:Function,required:!0}},data:()=>({pageIndex:1,lastTouchedRecordId:""}),computed:{project(){return this.$store.getters["project/project"]},projectPlan(){return this.$store.getters["studioPlan/projectPlan"]},displayRecords(){return this.filteredRecords.slice(0,this.pageIndex*K)},displayColumns(){return this.$store.getters["projectForm/getDisplayColumns"](this.formId)},selectedStatusId(){return this.$store.getters["projectForm/selectedStatusId"]},statusNoStatusId(){return Q().id},resultsLength(){return this.filteredRecords.length},hasResultRecords(){return this.resultsLength>0},checkedAllRecord(){return this.resultsLength===0?!1:this.checkRecordLength===this.resultsLength},hasUnviewableRecord(){return this.form.unviewableRecordCount>0},unviewableRecordCount(){return J(this.form.unviewableRecordCount)},tableWidth(){const p=this.displayColumns.filter(d=>d.maxLength>200).length,i=this.displayColumns.length-p;return p*364+i*184+60+-15+220}},methods:{IntercomServiceShow(){Re.show()},toggleCheckbox(){if(this.lastTouchedRecordId="",this.checkedAllRecord)this.updateCheckMap({});else{const e={};this.filteredRecords.forEach(t=>{e[t.recordId]=!0}),this.updateCheckMap(e)}},handleClickCheckbox(e,t){if(e.shiftKey&&this.lastTouchedRecordId&&this.lastTouchedRecordId!==t){const r=this.filteredRecords.findIndex(n=>n.recordId===t),c=this.filteredRecords.findIndex(n=>n.recordId===this.lastTouchedRecordId),l=Math.min(r,c),p=Math.max(r,c),i=this.filteredRecords.filter((n,g)=>l<=g&&g<=p).map(n=>n.recordId),d=!this.checkMap[t];this.updateCheckMap({...this.checkMap,...i.reduce((n,g)=>({...n,[g]:d}),{})})}else this.updateCheckMap({...this.checkMap,[t]:!this.checkMap[t]});this.lastTouchedRecordId=t},onScrollEnd(){this.filteredRecords.length>this.pageIndex*K&&this.pageIndex++}}});const me=e=>(E("data-v-774eb646"),e=e(),M(),e),ro={class:"msg"},ao=me(()=>o("span",{class:"material-icons"},"lock",-1)),no={class:"count"},io=me(()=>o("span",{class:"material-icons"},"help_outline",-1)),co={class:"btn"},lo={class:"msg"},mo={class:"count"},uo={class:"btn"};function po(e,t,r,c,l,p){const i=h("FormTableHeader"),d=h("i18n-t"),n=h("PopOverPanel"),g=h("router-link"),v=h("FormTableRow"),F=h("Scroller");return s(),_(F,{class:R(["FormTable",{hasNotDisplayRecords:e.displayRecords.length===0}]),onEnd:e.onScrollEnd},{default:k(()=>[y(i,{"form-id":e.formId,"checked-all-record":e.checkedAllRecord,"have-check-record":e.haveCheckRecord,"toggle-checkbox":e.toggleCheckbox,"table-width":e.tableWidth},null,8,["form-id","checked-all-record","have-check-record","toggle-checkbox","table-width"]),y(H,{tag:"div",class:"tbody",mode:"in-out"},{default:k(()=>[e.hasUnviewableRecord&&e.selectedStatusId===e.statusNoStatusId?(s(),a(b,{key:0},[e.project.currentPlanIsPlanV3Business?(s(),a("div",{key:1,class:"has-unviewable-record",onClick:t[0]||(t[0]=(...u)=>e.IntercomServiceShow&&e.IntercomServiceShow(...u))},[o("div",lo,[y(d,{keypath:"form: contact support",tag:"p",class:"text"},{default:k(()=>[o("span",mo,m(e.unviewableRecordCount),1)]),_:1})]),o("p",uo,m(e.$t("Contact Support: button")),1)])):(s(),_(g,{key:0,to:{name:"PagePdDashboardPlans"},class:"has-unviewable-record"},{default:k(()=>[o("div",ro,[ao,y(d,{keypath:"form: You have unviewable record.",tag:"p",class:"text"},{default:k(()=>[o("span",no,m(e.unviewableRecordCount),1)]),_:1}),y(n,{"pop-over-type":e.$_enum.PopOverType.FormViewableLimitation,placement:"right"},{default:k(()=>[io]),_:1},8,["pop-over-type"])]),o("p",co,m(e.$t("form: Upgrade to see")),1)]),_:1}))],64)):f("",!0),(s(!0),a(b,null,C(e.displayRecords,u=>P((s(),_(v,{key:u.recordId,"record-id":e.recordId,record:u,"check-record-ids":e.checkRecordIds,"have-check-record":e.haveCheckRecord,"check-map":e.checkMap,"moving-record-ids":e.movingRecordIds,"display-columns":e.displayColumns,"handle-click-record":e.handleClickRecord,"handle-click-checkbox":e.handleClickCheckbox,"table-width":e.tableWidth,"is-last-touched-record":e.lastTouchedRecordId===u.recordId},null,8,["record-id","record","check-record-ids","have-check-record","check-map","moving-record-ids","display-columns","handle-click-record","handle-click-checkbox","table-width","is-last-touched-record"])),[[U,e.hasResultRecords]])),128))]),_:1})]),_:1},8,["class","onEnd"])}const ho=$(le,[["render",po],["__scopeId","data-v-774eb646"]]);le.__docgenInfo={exportName:"default",displayName:"FormTable",description:"",tags:{},props:[{name:"formId",type:{name:"string"}},{name:"recordId",type:{name:"string"}},{name:"form",type:{name:"UsefulProjectForm"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"filteredRecords",type:{name:"UsefulProjectFormRecord[]"}},{name:"checkRecordIds",type:{name:"string[]"}},{name:"checkRecordLength",type:{name:"number"}},{name:"haveCheckRecord",type:{name:"boolean"}},{name:"checkMap",type:{name:"object"}},{name:"movingRecordIds",type:{name:"string[]"}},{name:"updateCheckMap",type:{name:"func"},required:!0},{name:"handleClickRecord",type:{name:"func"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/FormTable/FormTable.vue"]};const G=e=>{const{input:t,quote:r}=e;return r||/[",\n]/.test(t)?ue(e.input.replaceAll('"','""')):t},ue=e=>`"${e}"`,go=e=>e.map(t=>Array.isArray(t)?`"[${t.map(r=>ue(G({input:r,quote:!0}))).join(",")}]"`:G({input:t})).join(",")+`
`,fo=e=>{let t="";for(const r of e)t+=go(r);return t},pe=S({components:{LoadingContainer:je,SvgElement:B,SearchBox:pt,StatusNormal:vt,FormTable:ho,PopOverPanel:X,Dragging:dt},props:{projectId:{type:String,required:!0},formId:{type:String,required:!0}},data(){return{initializing:!1,isMenuOpened:!1,localUnregisteredFormIds:[],checkMap:{},movingRecordIds:[],targetStatusId:""}},computed:{hasFormPermission(){return this.$store.getters["accountProject/accountProject"].showFormPermission},recordId(){return this.$route.params.recordId},searchKeyword:{get(){return this.$store.getters["projectForm/searchKeyword"]},set(e){this.$store.commit("projectForm/SET_SEARCH_KEYWORD",e)}},displayAlsoInPreview:{get(){return this.$store.getters["projectForm/displayAlsoInPreview"]},set(e){this.$store.commit("projectForm/SET_DISPLAY_ALSO_IN_PREVIEW",e)}},selectedStatusId:{get(){return this.$store.getters["projectForm/selectedStatusId"]},set(e){this.$store.commit("projectForm/SET_STATUS_ID",e)}},selectedColumnOptionMap(){return this.$store.state.projectForm.selectedColumnOptionMap},form(){return this.$store.getters["projectForm/getFormById"](this.formId)},records(){return this.form?.records},columns(){return this.form.columns},filteredRecords(){return this.$store.getters["projectForm/getFilterdRecordsBySelectedFormId"]},resultsLength(){return this.filteredRecords.length},checkRecordIds(){return Object.keys(this.checkMap).filter(e=>this.checkMap[e])},checkRecordLength(){return Object.values(this.checkMap).filter(e=>e).length},haveCheckRecord(){return this.checkRecordLength>0},isUnregisteredFormId(){return this.localUnregisteredFormIds.includes(this.formId)},statusOptions(){if(this.initializing)return[];const e=this.form.statusChanged?this.form.statuses:Ce(),t=Q(),r=De(),c=this.movingRecordIds.length>0;return[{...t,loading:c?this.targetStatusId===t.id:!1,recordSum:this.getTotalRecordsByStatusId(t.id)},...e.map(l=>({...l,loading:c?this.targetStatusId===l.id:!1,recordSum:this.getTotalRecordsByStatusId(l.id)})),{...r,loading:c?this.targetStatusId===r.id:!1,recordSum:this.getTotalRecordsByStatusId(r.id)}]},totalStatusOptionsLength(){return J(this.statusOptions.reduce((e,t)=>e+t.recordSum,0))},unregisteredFormIds(){return this.$store.state.projectForm.unregisteredFormIds}},watch:{formId:{handler(){this.initialize()},immediate:!0},unregisteredFormIds(e){this.localUnregisteredFormIds=e}},mounted(){this.$route.query?.settings&&(this.gotoFormSettings(),this.$router.replace({query:null}))},methods:{async activateForm(){await this.$store.dispatch("projectForm/postProjectForm",{projectId:this.projectId,formId:this.formId}),await this.$store.dispatch("projectForm/getProjectForms",{projectId:this.projectId,force:!0}),this.gotoFormSettings()},async initialize(){this.initializing=!0,this.isMenuOpened=!1,this.checkMap={},this.$store.commit("projectForm/SET_DISPLAY_ALSO_IN_PREVIEW",!0),this.$store.commit("projectForm/SET_SEARCH_KEYWORD",""),this.$store.commit("projectForm/SET_STATUS_ID",""),this.$store.commit("projectForm/RESET_SELECTED_COLUMN_OPTION",""),this.$store.commit("projectForm/SET_SELECTED_SORT_COLUMN_NAME","date"),this.$store.commit("projectForm/SET_SELECTED_SORT_DIRECTION","desc"),await this.$store.dispatch("projectForm/getProjectForms",{projectId:this.projectId,force:!0});try{await this.$store.dispatch("projectForm/getProjectForm",{projectId:this.projectId,formId:this.formId})}catch(e){this.localUnregisteredFormIds.includes(this.formId)||(this.$router.push({name:"PagePdDashboardForms"}),console.error(e))}finally{this.initializing=!1}},updateCheckMap(e){this.checkMap=e},handleClickRecord(e){this.$router.push({name:"PagePdDashboardFormDetail",params:{recordId:e}})},async handleRecordsDeleteClick(){try{await this.$store.dispatch("projectForm/deleteProjectFormRecords",{projectId:this.projectId,formId:this.formId,body:{recordIds:this.checkRecordIds}}),this.checkMap={}}catch(e){console.log(e);const t=this.$t(A(e));this.$notify({type:"error",text:t,duration:1e4})}},downloadPlain(){this.download()},downloadExcel(){this.download(!0)},download(e){const t=[[...this.columns.map(i=>i.name),"date"],...this.records.map(i=>[...this.columns.map(d=>{const n=i.dataMap[d.name]?.val;return T(n)?n?.name:Array.isArray(n)?n.map(g=>T(g)?g?.name:g):n}),i.createdAtString])],r=fo(t),c=e?[new Uint8Array([239,187,191]),r]:[r],l=new Blob(c,{type:"text/csv"}),p=document.createElement("a");p.href=window.URL.createObjectURL(l),p.download=`${this.formId}result.csv`,p.click()},startEditingFormStatus(){this.isMenuOpened=!1},async gotoFormSettings(){this.isUnregisteredFormId&&(await this.$store.dispatch("projectForm/postProjectForm",{projectId:this.projectId,formId:this.formId}),await this.$store.dispatch("projectForm/getProjectForms",{projectId:this.projectId,force:!0}),await this.initialize()),this.$store.commit("projectForm/SET_SELECTED_FORM_ID_IN_MODAL",this.formId),this.$modal.push("ModalFormSettings")},async handleStatusClick(e){if(this.haveCheckRecord){this.movingRecordIds=this.checkRecordIds,this.checkMap={},this.selectedStatusId=e,this.targetStatusId=e;try{const t=await this.$store.dispatch("projectForm/updateProjectFormRecords",{projectId:this.projectId,formId:this.formId,statusId:e,statusChanged:this.form.statusChanged,checkRecordIds:this.movingRecordIds});this.selectedStatusId=t,this.targetStatusId=t;return}catch(t){const r=this.$t(A(t));this.$notify({type:"error",text:r,duration:1e4})}finally{setTimeout(()=>{this.movingRecordIds=[]},250)}}this.selectedStatusId=e,this.targetStatusId=e},async handleStatusDrop(e){if(this.haveCheckRecord){this.movingRecordIds=this.checkRecordIds,this.checkMap={},this.targetStatusId=e;try{const t=await this.$store.dispatch("projectForm/updateProjectFormRecords",{projectId:this.projectId,formId:this.formId,statusId:e,statusChanged:this.form.statusChanged,checkRecordIds:this.movingRecordIds});this.targetStatusId=t;return}catch(t){const r=this.$t(A(t));this.$notify({type:"error",text:r,duration:1e4})}finally{setTimeout(()=>{this.movingRecordIds=[]},250)}}},getTotalRecordsByStatusId(e){return Te(this.form.records,this.form.statuses,e,this.searchKeyword,this.selectedColumnOptionMap).length}}});const q=e=>(E("data-v-67b3cd57"),e=e(),M(),e),yo={id:"PagePdDashboardFormList"},vo={class:"table-meta"},_o={class:"meta-left"},Io={class:"_mr-[50px] _flex _flex-col _items-start _justify-start"},ko=["title"],bo={class:"_flex _flex-row _items-center _justify-start _gap-8"},So={class:"_whitespace-nowrap _rounded-2 _bg-gray-100 _py-2 _px-4 _text-xs _text-gray-700"},$o={class:"status-wrap"},Fo={key:"trash-wrap",class:"trash-wrap"},Ro=q(()=>o("ion-icon",{name:"trash-outline"},null,-1)),Co={class:"text"},To={key:"search-wrap",class:"search-wrap"},Do={key:"settings-wrap",class:"settings-wrap"},wo=q(()=>o("ion-icon",{name:"settings-outline"},null,-1)),Po={key:"menu-wrap",class:"menu-wrap"},Eo={key:0,class:"menu"},Mo={class:"text"},jo={class:"text"},Lo={key:0,class:"loading-wrapper"},Oo={key:1,class:"unregistered-form"},No={class:"unregistered-form-head"},Ao={class:"scroller"},Uo={key:0,class:"no-search-result"},Ho={class:"no-search-result-head"},Bo={key:1,class:"no-search-result"},qo=q(()=>o("img",{class:"no-search-result-icon",src:Me},null,-1)),Vo={class:"no-search-result-head"},Ko={class:"no-search-result-message"};function Go(e,t,r,c,l,p){const i=h("PopOverPanel"),d=h("StatusNormal"),n=h("SearchBox"),g=h("SvgElement"),v=h("LoadingContainer"),F=h("FormTable"),u=h("Dragging"),w=h("router-view"),he=ve("click-outside");return s(),a("div",yo,[o("div",vo,[o("div",_o,[o("div",Io,[y(i,{class:"formId-popover","pop-over-type":e.$_enum.PopOverType.FormIdCanNotBeChanged,placement:"bottom-end"},{default:k(()=>[o("h1",{class:"formId",title:e.formId},m(e.formId),9,ko)]),_:1},8,["pop-over-type"]),o("div",bo,[e.hasFormPermission?(s(),a("p",{key:0,class:R(["_text-[15px] _leading-[20px] _text-gray-700",{hidden:e.initializing||e.isUnregisteredFormId}])},m(e.$t("Responses",Number(e.totalStatusOptionsLength))),3)):(s(),_(i,{key:1,class:"formId-popover","pop-over-type":e.$_enum.PopOverType.FormRestrictionAtPage,placement:"bottom-end"},{default:k(()=>[o("p",So,m(e.$t("FormPermission: restricted")),1)]),_:1},8,["pop-over-type"]))])]),P(o("div",$o,[y(H,{tag:"div",class:"statuses droppable"},{default:k(()=>[(s(!0),a(b,null,C(e.statusOptions,I=>(s(),_(d,{key:I.id,status:I,"selected-status-id":e.selectedStatusId,"have-check-record":e.haveCheckRecord,"moving-record-ids":e.movingRecordIds,onHandleStatusClick:e.handleStatusClick,onHandleStatusDrop:e.handleStatusDrop},null,8,["status","selected-status-id","have-check-record","moving-record-ids","onHandleStatusClick","onHandleStatusDrop"]))),128))]),_:1})],512),[[U,!e.isUnregisteredFormId]])]),P(y(H,{tag:"div",class:"meta-right"},{default:k(()=>[e.selectedStatusId==="trash"&&e.haveCheckRecord?(s(),a("div",Fo,[o("button",{class:"trash-btn",onClick:t[0]||(t[0]=(...I)=>e.handleRecordsDeleteClick&&e.handleRecordsDeleteClick(...I))},[Ro,o("span",Co,m(e.$t("form: Completely delete")),1)])])):(s(),a(b,{key:1},[o("div",To,[y(n,{value:e.searchKeyword,"onUpdate:value":t[1]||(t[1]=I=>e.searchKeyword=I)},null,8,["value"])]),o("div",Do,[o("div",{class:"edit-btn",onClick:t[2]||(t[2]=(...I)=>e.gotoFormSettings&&e.gotoFormSettings(...I))},[wo,o("p",null,m(e.$t("form: form settings")),1)])]),o("div",Po,[P((s(),a("span",{class:"menu-icon material-icons",onClick:t[3]||(t[3]=I=>e.isMenuOpened=!e.isMenuOpened)},[_e("more_vert ")])),[[he,()=>e.isMenuOpened=!1]]),y(Y,null,{default:k(()=>[e.isMenuOpened?(s(),a("div",Eo,[o("ul",null,[o("li",{onClick:t[4]||(t[4]=(...I)=>e.downloadPlain&&e.downloadPlain(...I))},[o("p",null,[y(g,{name:"download",width:"17",height:"17",class:"icon"}),o("span",Mo,m(e.$t("Download with CSV")),1)])]),o("li",{onClick:t[5]||(t[5]=(...I)=>e.downloadExcel&&e.downloadExcel(...I))},[o("p",null,[y(g,{name:"download",width:"17",height:"17",class:"icon"}),o("span",jo,m(e.$t("Download for Excel")),1)])])])])):f("",!0)]),_:1})])],64))]),_:1},512),[[U,!e.isUnregisteredFormId]])]),e.initializing?(s(),a("div",Lo,[y(v,{"is-loading":e.initializing},null,8,["is-loading"])])):e.isUnregisteredFormId?(s(),a("div",Oo,[o("p",No,m(e.$t("PagePdDashboardFormList:UNREGISTERED_FORM")),1),o("button",{class:"unregistered-form-button",onClick:t[6]||(t[6]=(...I)=>e.activateForm&&e.activateForm(...I))},m(e.$t("form: activate")),1)])):(s(),a(b,{key:2},[o("div",Ao,[y(F,{"form-id":e.formId,"record-id":e.recordId,"have-check-record":e.haveCheckRecord,form:e.form,"filtered-records":e.filteredRecords,"check-record-ids":e.checkRecordIds,"check-record-length":e.checkRecordLength,"check-map":e.checkMap,"moving-record-ids":e.movingRecordIds,"update-check-map":e.updateCheckMap,"handle-click-record":e.handleClickRecord},null,8,["form-id","record-id","have-check-record","form","filtered-records","check-record-ids","check-record-length","check-map","moving-record-ids","update-check-map","handle-click-record"]),!e.searchKeyword&&e.resultsLength===0?(s(),a("div",Uo,[y(g,{class:"no-search-result-icon",name:"open_envelope",fill:"var(--text-color-4)",width:"50",height:"50"}),o("p",Ho,m(e.$t("form: no records")),1)])):e.resultsLength===0?(s(),a("div",Bo,[qo,o("p",Vo,m(e.$t("PagePdDashboardFormList:NO_SEARCH_RESULTS")),1),o("p",Ko,m(e.$t("PagePdDashboardFormList:NO_SEARCH_RESULTS_MESSAGE")),1)])):f("",!0)]),y(u,{"filtered-records":e.filteredRecords,"check-record-ids":e.checkRecordIds},null,8,["filtered-records","check-record-ids"]),e.$route.name==="PagePdDashboardFormDetail"?(s(),_(w,{key:0,statuses:e.form.statuses},null,8,["statuses"])):f("",!0)],64))])}const ls=$(pe,[["render",Go],["__scopeId","data-v-67b3cd57"]]);pe.__docgenInfo={exportName:"default",displayName:"PagePdDashboardFormList",description:"",tags:{},props:[{name:"projectId",type:{name:"string"},required:!0},{name:"formId",type:{name:"string"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/Pd/PdDashboard/PageForms/PagePdDashboardFormList.vue"]};export{ls as default};
