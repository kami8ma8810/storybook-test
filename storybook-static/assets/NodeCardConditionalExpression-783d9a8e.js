import{_ as V}from"./iframe-4066d2cc.js";import{f as $,ah as S,x as H,e as u,b as U,O as h,G as a,H as c,K as t,U as v,Q as g,N as f,L as O,M as j}from"./vue.esm-bundler-33967e91.js";import{N as q}from"./NodeCardBackground-e1c3a5e9.js";import{V as w}from"./ValueInput-7a78c064.js";import{b as A}from"./Editor-e2ebb077.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import"../sb-preview/runtime.js";import"./ModalPvLimitAlertView-cb9178ae.js";import"./vue-i18n.cjs-bd62fc86.js";import"./_commonjsHelpers-042e6b4d.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./PfIcon-bb1c3c10.js";import"./mapValues-a1d744f5.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";const E=$({name:"NodeCardConditionalExpression",props:{node:{type:Object,required:!0}},components:{ValueInput:w,NodeCardBackground:q,NodeHandle:S(()=>V(()=>import("./Editor-e2ebb077.js").then(e=>e.k),["./Editor-e2ebb077.js","./vue.esm-bundler-33967e91.js","./ModalPvLimitAlertView-cb9178ae.js","./vue-i18n.cjs-bd62fc86.js","./_commonjsHelpers-042e6b4d.js","./ModalUpgradeRequired-a455cfd7.js","./BasicModal-000dc82b.js","./_plugin-vue_export-helper-c27b6911.js","./BasicModal-276b42ea.css","./PfButton-db6d6722.js","./PfIconContext-bd54ca9b.js","./ModalUpgradeRequired-1a015d77.css","./lodash-bf1bac5c.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-4066d2cc.js","./PfIcon-bb1c3c10.js","./mapValues-a1d744f5.js","./ModalPvLimitAlertView-c58a5858.css","./SelectSwitch-b6107958.js","./tiptap-extension-paragraph.esm-72054cce.js","./SelectSwitch-74fee1e2.css","./draggable-203bb716.js","./ApiIcon-4990672b.js","./ApiIcon-f6bf5922.css","./useSearch-b8b0ad67.js","./Editor-f05e9ae1.css"],import.meta.url))},setup(e){const{node:o}=H(e),{findNode:_,selectedNodeId:N,draggingNode:r,updateNode:i}=A(),d=u(()=>o.value.args.map(s=>_(s))),l=u(()=>r.value?.id===o.value.id?!1:o.value.id===N.value||o.value.args.includes(N.value)),p=u(()=>d.value[0]),n=u(()=>d.value[1]),k=u(()=>d.value[2]),I=(s,m)=>{i(s,{position:null});const y=[p.value?.id||null,n.value?.id||null,k.value?.id||null];y[m]=s,i(o.value.id,{args:y})},M=s=>{if(!r.value||r.value.id===o.value.id)return;i(r.value.id,{position:null});const m=[...o.value.args];m[s]=r.value.id,i(o.value.id,{args:m})},b=s=>{C.value=!1,i(o.value.id,{value:s})},C=U(!1);return{args:d,canSelectChildren:l,onMouseup:M,firstNode:p,secondNode:n,thirdNode:k,isOpen:C,closeMenu:()=>{C.value=!1},onChangeValue:b,updateChild:I}}});const B=e=>(O("data-v-7bd5fa17"),e=e(),j(),e),L={key:0,class:"node-frame"},P=B(()=>t("div",{class:"center"},[t("span",null,"?")],-1)),R={key:0,class:"node-frame"},z=B(()=>t("div",{class:"center"},[t("span",null,":")],-1)),D={key:0,class:"node-frame"};function F(e,o,_,N,r,i){const d=h("NodeHandle"),l=h("ValueInput"),p=h("NodeCardBackground");return a(),c("div",{class:f(["NodeCardConditionalExpression",{canSelectChildren:e.canSelectChildren}])},[t("div",{class:f(["children-container",{hasChild:e.firstNode}]),onMouseup:o[1]||(o[1]=n=>e.onMouseup(0))},[e.firstNode?(a(),c("div",L,[v(d,{node:e.firstNode},null,8,["node"])])):(a(),g(l,{key:1,node:e.node,"allow-type":"boolean",onUpdate:o[0]||(o[0]=n=>e.updateChild(n,0))},null,8,["node"]))],34),P,t("div",{class:f(["children-container",{hasChild:e.secondNode}]),onMouseup:o[3]||(o[3]=n=>e.onMouseup(1))},[e.secondNode?(a(),c("div",R,[v(d,{node:e.secondNode},null,8,["node"])])):(a(),g(l,{key:1,node:e.node,onUpdate:o[2]||(o[2]=n=>e.updateChild(n,1))},null,8,["node"]))],34),z,t("div",{class:f(["children-container",{hasChild:e.thirdNode}]),onMouseup:o[5]||(o[5]=n=>e.onMouseup(2))},[e.thirdNode?(a(),c("div",D,[v(d,{node:e.thirdNode},null,8,["node"])])):(a(),g(l,{key:1,node:e.node,onUpdate:o[4]||(o[4]=n=>e.updateChild(n,2))},null,8,["node"]))],34),v(p,{node:e.node},null,8,["node"])],2)}const fe=G(E,[["render",F],["__scopeId","data-v-7bd5fa17"]]);E.__docgenInfo={displayName:"NodeCardConditionalExpression",exportName:"default",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardConditionalExpression.vue"]};export{fe as default};
