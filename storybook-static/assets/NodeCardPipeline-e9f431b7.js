import{_ as B}from"./iframe-4066d2cc.js";import{f as b,ah as y,x as P,e as i,O as N,G as n,H as a,K as C,F as D,Z as F,Q as $,S as h,N as c,U as E}from"./vue.esm-bundler-33967e91.js";import{N as H}from"./NodeCardBackground-e1c3a5e9.js";import{b as I,e as S}from"./Editor-e2ebb077.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import"../sb-preview/runtime.js";import"./ModalPvLimitAlertView-cb9178ae.js";import"./vue-i18n.cjs-bd62fc86.js";import"./_commonjsHelpers-042e6b4d.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./PfIcon-bb1c3c10.js";import"./mapValues-a1d744f5.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";const g=b({name:"NodeCardPipeline",props:{node:{type:Object,required:!0}},components:{NodeCardBackground:H,NodeHandle:y(()=>B(()=>import("./Editor-e2ebb077.js").then(e=>e.k),["./Editor-e2ebb077.js","./vue.esm-bundler-33967e91.js","./ModalPvLimitAlertView-cb9178ae.js","./vue-i18n.cjs-bd62fc86.js","./_commonjsHelpers-042e6b4d.js","./ModalUpgradeRequired-a455cfd7.js","./BasicModal-000dc82b.js","./_plugin-vue_export-helper-c27b6911.js","./BasicModal-276b42ea.css","./PfButton-db6d6722.js","./PfIconContext-bd54ca9b.js","./ModalUpgradeRequired-1a015d77.css","./lodash-bf1bac5c.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-4066d2cc.js","./PfIcon-bb1c3c10.js","./mapValues-a1d744f5.js","./ModalPvLimitAlertView-c58a5858.css","./SelectSwitch-b6107958.js","./tiptap-extension-paragraph.esm-72054cce.js","./SelectSwitch-74fee1e2.css","./draggable-203bb716.js","./ApiIcon-4990672b.js","./ApiIcon-f6bf5922.css","./useSearch-b8b0ad67.js","./Editor-f05e9ae1.css"],import.meta.url))},setup(e){const{node:o}=P(e),{findNode:m,selectedNodeId:t,draggingNode:r,updateNode:s,isUsed:v}=I(),l=i(()=>o.value.children.map(u=>m(u))),d=i(()=>r.value?.id===o.value.id?!1:o.value.id===t.value||o.value.children.includes(t.value)),p=u=>{if(!r.value||r.value.id===o.value.id)return;s(r.value.id,{position:null});const f=[...o.value.children];f.splice(u,0,r.value.id),s(o.value.id,{children:f})},{nodeResult:_}=S(i(()=>o.value.id)),k=i(()=>{if(r.value)return r.value.id!==o.value.id});return{children:l,canSelectChildren:d,addChild:p,nodeResult:_,isDroppable:k}}});const M={class:"children-container"},O=["onMouseup"];function R(e,o,m,t,r,s){const v=N("NodeHandle"),l=N("NodeCardBackground");return n(),a("div",{class:c(["NodeCardPipeline",{canSelectChildren:e.canSelectChildren}])},[C("div",M,[(n(!0),a(D,null,F(e.children,(d,p)=>(n(),a("div",{key:d.id,class:"child-frame"},[d?(n(),$(v,{key:0,node:d},null,8,["node"])):h("",!0),C("div",{class:c(["child-gap",{isDroppable:e.isDroppable}]),onMouseup:_=>e.addChild(p+1)},"これ？",42,O)]))),128)),e.children.length===0?(n(),a("div",{key:0,class:c(["add-child",{isDroppable:e.isDroppable}]),onMouseup:o[0]||(o[0]=d=>e.addChild(0))},null,34)):h("",!0)]),E(l,{node:e.node},null,8,["node"])],2)}const ie=V(g,[["render",R],["__scopeId","data-v-4abaed4f"]]);g.__docgenInfo={displayName:"NodeCardPipeline",exportName:"default",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardPipeline.vue"]};export{ie as default};
