import{_ as M}from"./iframe-4066d2cc.js";import{f as I,ah as O,x as U,b,O as h,a7 as H,G as s,H as a,K as l,U as N,Q as k,N as _,_ as w,F as D,Z as L,W as R,S}from"./vue.esm-bundler-33967e91.js";import{N as F}from"./NodeCardBackground-e1c3a5e9.js";import{V as j}from"./ValueInput-7a78c064.js";import{b as q}from"./Editor-e2ebb077.js";import{ar as c}from"./ModalPvLimitAlertView-cb9178ae.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import"../sb-preview/runtime.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjsHelpers-042e6b4d.js";import"./vue-i18n.cjs-bd62fc86.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./PfIcon-bb1c3c10.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./mapValues-a1d744f5.js";const y=I({name:"NodeCardComparisonExpression",props:{node:{type:Object,required:!0}},components:{ValueInput:j,NodeCardBackground:F,NodeHandle:O(()=>M(()=>import("./Editor-e2ebb077.js").then(e=>e.k),["./Editor-e2ebb077.js","./vue.esm-bundler-33967e91.js","./ModalPvLimitAlertView-cb9178ae.js","./vue-i18n.cjs-bd62fc86.js","./_commonjsHelpers-042e6b4d.js","./ModalUpgradeRequired-a455cfd7.js","./BasicModal-000dc82b.js","./_plugin-vue_export-helper-c27b6911.js","./BasicModal-276b42ea.css","./PfButton-db6d6722.js","./PfIconContext-bd54ca9b.js","./ModalUpgradeRequired-1a015d77.css","./lodash-bf1bac5c.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-4066d2cc.js","./PfIcon-bb1c3c10.js","./mapValues-a1d744f5.js","./ModalPvLimitAlertView-c58a5858.css","./SelectSwitch-b6107958.js","./tiptap-extension-paragraph.esm-72054cce.js","./SelectSwitch-74fee1e2.css","./draggable-203bb716.js","./ApiIcon-4990672b.js","./ApiIcon-f6bf5922.css","./useSearch-b8b0ad67.js","./Editor-f05e9ae1.css"],import.meta.url))},setup(e){const{node:o}=U(e),{findNode:g,selectedNodeId:v,draggingNode:i,updateNode:t}=q(),d=c(()=>o.value.args.map(n=>g(n))),m=c(()=>i.value?.id===o.value.id?!1:o.value.id===v.value||o.value.args.includes(v.value)),u=c(()=>d.value[0]),p=c(()=>d.value[1]),r=n=>{t(n,{position:null}),t(o.value.id,{args:[n,p.value?.id||null]})},C=n=>{t(n,{position:null}),t(o.value.id,{args:[u.value?.id||null,n]})},E=n=>{if(!i.value||i.value.id===o.value.id)return;t(i.value.id,{position:null});const $=n===0?[i.value.id,p.value?.id||null]:[u.value?.id||null,i.value.id];t(o.value.id,{args:$})},B=c(()=>["==","!=","<",">","<=",">="]),V=n=>{f.value=!1,t(o.value.id,{value:n})},f=b(!1);return{args:d,canSelectChildren:m,onMouseup:E,leftNode:u,rightNode:p,isOpen:f,closeMenu:()=>{f.value=!1},operators:B,onChangeValue:V,updateLeft:r,updateRight:C}}});const G={key:0,class:"node-frame"},P={width:"17",height:"17"},z=["href"],K={key:0,class:"menu"},Q={class:"operators"},T=["onClick"],W={width:"17",height:"17"},Z=["href"],J={key:0,class:"node-frame"};function X(e,o,g,v,i,t){const d=h("NodeHandle"),m=h("ValueInput"),u=h("NodeCardBackground"),p=H("click-outside");return s(),a("div",{class:_(["NodeCardComparisonExpression",{canSelectChildren:e.canSelectChildren}])},[l("div",{class:_(["children-container",{hasChild:e.leftNode}]),onMouseup:o[0]||(o[0]=r=>e.onMouseup(0))},[e.leftNode?(s(),a("div",G,[N(d,{node:e.leftNode},null,8,["node"])])):(s(),k(m,{key:1,node:e.node,onUpdate:e.updateLeft},null,8,["node","onUpdate"]))],34),l("div",{class:"center",onDblclick:o[1]||(o[1]=r=>e.isOpen=!0)},[(s(),a("svg",P,[l("use",{href:`#i-17-${e.node.value}`},null,8,z)])),e.isOpen?w((s(),a("div",K,[l("div",Q,[(s(!0),a(D,null,L(e.operators,r=>(s(),a("div",{key:r,class:"operator",onClick:R(C=>e.onChangeValue(r),["stop"])},[(s(),a("svg",W,[l("use",{href:`#i-17-${r}`},null,8,Z)]))],8,T))),128))])])),[[p,e.closeMenu]]):S("",!0)],32),l("div",{class:_(["children-container",{hasChild:e.rightNode}]),onMouseup:o[2]||(o[2]=r=>e.onMouseup(1))},[e.rightNode?(s(),a("div",J,[N(d,{node:e.rightNode},null,8,["node"])])):(s(),k(m,{key:1,node:e.node,onUpdate:e.updateRight},null,8,["node","onUpdate"]))],34),N(u,{node:e.node},null,8,["node"])],2)}const ye=A(y,[["render",X],["__scopeId","data-v-0e959e85"]]);y.__docgenInfo={displayName:"NodeCardComparisonExpression",exportName:"default",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardComparisonExpression.vue"]};export{ye as default};
