import{b as p,r as U,f as v,H as m,I as g,J as f,A as t,K as a,G as u,O as b,Q as D,R as x,_ as y,$ as B,N as C,a0 as T,U as c,S as k,W as N,a6 as F,L as R,M}from"./vue.esm-bundler-33967e91.js";import{_ as V}from"./studio-logo-with-text-31020a94.js";import{D as G,E as H,m as j,n as z,_ as O,F as Q,U as W,f as Z,P as J}from"./ModalPvLimitAlertView-cb9178ae.js";import"./PfButton-db6d6722.js";import"./ModalUpgradeRequired-a455cfd7.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import"./vue-i18n.cjs-bd62fc86.js";import"./_commonjsHelpers-042e6b4d.js";import"./BasicModal-000dc82b.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./iframe-4066d2cc.js";import"../sb-preview/runtime.js";import"./PfIcon-bb1c3c10.js";import"./PfIconContext-bd54ca9b.js";import"./mapValues-a1d744f5.js";const K=""+new URL("circle-so-logo-5bed4027.svg",import.meta.url).href,L="recaptchaScript",q="https://www.google.com/recaptcha/api.js?render=6LewsbwUAAAAAMtWVUfjTZ-1_9H7mMauwoXvZTlQ",Y=i=>{try{if(!document.getElementById(L)){const o=document.createElement("script");o.setAttribute("src",q),o.id=L,document.head.appendChild(o)}}catch(e){console.log(e)}return{recaptchaDecorator:()=>new Promise((e,o)=>{try{grecaptcha.ready(()=>{grecaptcha.execute("6LewsbwUAAAAAMtWVUfjTZ-1_9H7mMauwoXvZTlQ",{action:i}).then(s=>e(s),s=>o(s))})}catch(s){return o(s)}})}},w="https://community-ja.studio.design/oauth2/callback",S="khDDsSHtixzPnAsSJMS9z9DtTgMQcy",ee=()=>{const i=p(!1);return{loading:i,login:async()=>{i.value=!0;const e=new URL("https://api.studiodesignapp.com/api/v2/sso/facebook/login");e.searchParams.set("redirect_uri",w),e.searchParams.set("client_id",S),location.href=e.href}}},oe=()=>{const i=p(!1);return{loading:i,login:async()=>{i.value=!0;const e=new URL("https://api.studiodesignapp.com/api/v2/sso/google/login");e.searchParams.set("redirect_uri",w),e.searchParams.set("client_id",S),location.href=e.href}}},te=()=>{const{recaptchaDecorator:i}=Y("sso"),l=p(!1),e=p(!1),o=p(),s=U({email:"",password:""});return{loading:l,isPasswordVisible:e,errorMessage:o,data:s,login:async()=>{try{l.value=!0;const n=await i(),h=(await G.postSsoEmailLogin({email:s.email,password:s.password,reCaptchaToken:n,redirectUri:w,clientId:S})).data.url;h&&(location.href=h)}catch(n){l.value=!1,o.value=H(n)}}}},se=a("img",{width:"20",height:"20",src:j,class:"_absolute _left-14"},null,-1),P=v({__name:"SsoButtonFacebook",setup(i){const{login:l}=ee();return(e,o)=>(u(),m("button",{class:"_relative _flex _h-44 _flex-row _items-center _rounded-6 _bg-[#1A77F2] _text-md _font-bold _text-white _outline _outline-blue-200 hover:_bg-[#2A6DDC] focus-visible:_outline-2",onClick:o[0]||(o[0]=(...s)=>t(l)&&t(l)(...s))},[se,g(" "+f(e.$t("Login with Facebook")),1)]))}});P.__docgenInfo={exportName:"default",displayName:"SsoButtonFacebook",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/SsoLogin/SsoButtonFacebook.vue"]};const ae=a("img",{width:"18",height:"18",src:z,class:"_absolute _left-14",alt:"google icon"},null,-1),I=v({__name:"SsoButtonGoogle",setup(i){const{loading:l,login:e}=oe();return(o,s)=>{const _=b("PfButton");return u(),D(_,{variant:"outline",class:"_relative _outline _outline-blue-200 focus-visible:_outline-2",loading:t(l),onClick:t(e)},{default:x(()=>[ae,g(" "+f(o.$t("Login with Google")),1)]),_:1},8,["loading","onClick"])}}});I.__docgenInfo={exportName:"default",displayName:"SsoButtonGoogle",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/SsoLogin/SsoButtonGoogle.vue"]};const ie={class:"_flex _flex-col _items-stretch _gap-8"},le=["placeholder"],ne={class:"_relative _flex _flex-col _items-stretch _gap-8"},re=["type","placeholder"],ce={key:0,class:"_text-sm _text-const-red-500"},A=v({__name:"SsoFormEmail",setup(i){const{loading:l,isPasswordVisible:e,errorMessage:o,data:s,login:_}=te();return(n,r)=>{const h=b("PfButton");return u(),m("form",{class:"_flex _w-full _flex-col _items-stretch _gap-16",onSubmit:r[3]||(r[3]=N((...d)=>t(_)&&t(_)(...d),["prevent"]))},[a("label",ie,[a("span",null,f(n.$t("Login: Email address")),1),y(a("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>t(s).email=d),name:"email",type:"email",class:C(["_h-44 _rounded-6 _border-1 _border-solid _border-const-gray-100 _bg-const-white _px-16 _outline _outline-blue-200 hover:_bg-gray-50 focus:_bg-white focus:_outline-2",[t(o)&&"_border-const-red-500 _bg-const-red-50"]]),placeholder:n.$t("Login: Enter your email address")},null,10,le),[[B,t(s).email]])]),a("label",ne,[a("span",null,f(n.$t("Login: Password")),1),y(a("input",{"onUpdate:modelValue":r[1]||(r[1]=d=>t(s).password=d),name:"password",type:t(e)?"text":"password",placeholder:n.$t("Login: Enter your password"),class:C(["_h-44 _w-full _rounded-6 _border-1 _border-solid _border-const-gray-100 _bg-const-white _px-16 _outline _outline-blue-200 hover:_bg-gray-50 focus:_bg-white focus:_outline-2",[t(o)&&"_border-const-red-500 _bg-const-red-50"]])},null,10,re),[[T,t(s).password]]),c(t(O),{"is-password-visible":t(e),class:"_absolute _right-12 _top-36",onClick:r[2]||(r[2]=d=>e.value=!t(e))},null,8,["is-password-visible"])]),c(h,{size:"md","button-type":"submit",loading:t(l),class:"_outline _outline-blue-200 focus-visible:_outline-2"},{default:x(()=>[g(" メールアドレスでログイン ")]),_:1},8,["loading"]),t(o)?(u(),m("p",ce,"メールアドレスまたはパスワードが異なります")):k("",!0)],32)}}});A.__docgenInfo={exportName:"default",displayName:"SsoFormEmail",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/SsoLogin/SsoFormEmail.vue"]};const $=i=>(R("data-v-50e4b091"),i=i(),M(),i),_e={class:"scroll-view"},de={class:"grid-container"},ue=F('<div class="grid-item-title _flex _flex-col _gap-28" data-v-50e4b091><div class="_flex _flex-row _items-center _gap-20" data-v-50e4b091><img src="'+K+'" width="80" height="80" alt="Circle logo" data-v-50e4b091><div class="_flex _flex-col _gap-4" data-v-50e4b091><div class="_heading-md _text-black" data-v-50e4b091>Circle.so</div><div data-v-50e4b091><a class="label-md-bold _text-gray-700" href="app.circle.so" data-v-50e4b091>app.circle.so/</a></div></div></div><div class="_flex _flex-col _gap-12" data-v-50e4b091><h1 class="_text-black-600 _heading-sm tablet:_heading-md" data-v-50e4b091>STUDIOアカウントでログイン</h1><p class="label-sm-bold _text-gray-600 tablet:_text-md" data-v-50e4b091> ログインにあたり、CircleはSTUDIOアカウントの名前とメールアドレス、プロフィール画像を共有します。 </p></div></div>',1),pe={class:"grid-item-signup _flex _flex-col _gap-12"},me=$(()=>a("p",{class:"label-md-bold _text-black"},"STUDIOアカウントをお持ちでない方",-1)),ge={class:"grid-item-form _flex _basis-1/2 _flex-col _gap-24 _rounded-12 _bg-white _p-20 tablet:_p-40"},fe={class:"_flex _flex-col _justify-center _gap-24"},he=$(()=>a("img",{height:"40",src:V},null,-1)),be={key:0,class:"label-md-bold _flex _flex-row _items-center _gap-8 _rounded-4 _bg-red-50 _px-16 _py-12 _text-md _text-const-red-600"},ve={class:"_flex _flex-col _items-center _gap-32"},xe={class:"_flex _w-full _flex-col _items-center _justify-center _gap-32"},we={class:"_flex _w-full _flex-col _items-stretch _justify-center _gap-16"},Se={class:"label-sm-bold _text-black _outline _outline-blue-200 hover:_text-const-gray-800 focus-visible:_outline-2",href:"/ja/login/recover",target:"_blank"},E=v({__name:"PageSsoLoginCicle",setup(i){const{setLocale:l}=Q();l(W.JP);const e=Z("error_code");return(o,s)=>{const _=b("PfIcon"),n=b("PfButtonLink");return u(),m("div",_e,[a("div",de,[ue,a("div",pe,[me,c(n,{"is-external":!0,to:"/ja/signup",class:"_w-fit _rounded-[46px] !_px-24 _outline _outline-blue-200 focus-visible:_outline-2",variant:"gradient",size:"lg"},{default:x(()=>[g("アカウントを新規作成"),c(_,{size:"sm",icon:"openWindow"})]),_:1})]),a("div",ge,[a("div",fe,[he,t(e)?(u(),m("p",be,[c(_,{size:"md",icon:"cautionCircle","icon-color":"const-red-600"}),g(" SNS認証でエラーが発生しました ")])):k("",!0)]),a("div",ve,[a("div",xe,[a("div",we,[c(P),c(I)]),c(A)]),c(J,{class:"_w-full"}),a("a",Se,f(o.$t("Login: Forgot password?")),1)])])])])}}});const Me=X(E,[["__scopeId","data-v-50e4b091"]]);E.__docgenInfo={exportName:"default",displayName:"PageSsoLoginCicle",description:"",tags:{},sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/SsoLogin/PageSsoLoginCicle.vue"]};export{Me as default};
