import{_ as w}from"./iframe-4066d2cc.js";import{f as F,ah as q,x as R,e as D,G as n,H as c,K as s,N as g,A as o,J as y,F as H,Z as K,Q as u,S as h,L,M}from"./vue.esm-bundler-33967e91.js";import{N as P}from"./NodeCardBackground-e1c3a5e9.js";import{V as T}from"./ValueInput-7a78c064.js";import{b as G,f as O,e as U}from"./Editor-e2ebb077.js";import{ar as r,a1 as C}from"./ModalPvLimitAlertView-cb9178ae.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import"../sb-preview/runtime.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjsHelpers-042e6b4d.js";import"./vue-i18n.cjs-bd62fc86.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./PfIcon-bb1c3c10.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./mapValues-a1d744f5.js";const J=a=>(L("data-v-2ded693c"),a=a(),M(),a),Q={class:"container"},Z=J(()=>s("i",{class:"material-icons"},"play_arrow",-1)),W=[Z],X={class:"content"},Y={class:"method-label"},k=F({__name:"NodeCardAction",props:{node:{type:Object,required:!0},role:{type:String,required:!1,default:"canvas"}},setup(a){const b=q(()=>w(()=>import("./Editor-e2ebb077.js").then(t=>t.k),["./Editor-e2ebb077.js","./vue.esm-bundler-33967e91.js","./ModalPvLimitAlertView-cb9178ae.js","./vue-i18n.cjs-bd62fc86.js","./_commonjsHelpers-042e6b4d.js","./ModalUpgradeRequired-a455cfd7.js","./BasicModal-000dc82b.js","./_plugin-vue_export-helper-c27b6911.js","./BasicModal-276b42ea.css","./PfButton-db6d6722.js","./PfIconContext-bd54ca9b.js","./ModalUpgradeRequired-1a015d77.css","./lodash-bf1bac5c.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-4066d2cc.js","./PfIcon-bb1c3c10.js","./mapValues-a1d744f5.js","./ModalPvLimitAlertView-c58a5858.css","./SelectSwitch-b6107958.js","./tiptap-extension-paragraph.esm-72054cce.js","./SelectSwitch-74fee1e2.css","./draggable-203bb716.js","./ApiIcon-4990672b.js","./ApiIcon-f6bf5922.css","./useSearch-b8b0ad67.js","./Editor-f05e9ae1.css"],import.meta.url)),A=a,{node:e}=R(A),{findNode:B,selectedNodeId:p,draggingNode:l,updateNode:i}=G(),{scopeData:m}=O(),v=r(()=>e.value.args.map(t=>B(t)).filter(t=>t!=null)),S=r(()=>l.value?.id===e.value.id?!1:e.value.id===p.value||e.value.args?.includes(p.value)),I=r(()=>C.getNameFromKey(e.value.value?.split(".")[0],m.value)),_=r(()=>{const t=e.value.value?.split(".")[0];return C.getTypeFromKey(t,m.value)}),d=r(()=>e.value.value?.split(".")[1]),f=r(()=>{if(!d.value||!_.value)return null;switch(d.value){case"alert":case"log":case"toggle":return null;case"set":return _.value;default:return null}}),{nodeResult:V}=U(D(()=>e.value.id)),j=()=>{!l.value||l.value.id===e.value.id||(i(l.value.id,{position:null}),i(e.value.id,{args:[l.value.id]}))},x=()=>V.value().then(),E=t=>{i(t,{position:null}),i(e.value.id,{args:[t]})};return(t,$)=>(n(),c("div",{class:g(["NodeCardAction",{canSelectChildren:o(S)}])},[s("div",Q,[s("button",{class:"action-button",onClick:x},W),s("div",X,[s("span",{class:g(["object-label",[o(e).type]])},y(o(I)),3),s("span",Y,y(o(d)),1)]),o(v).length?(n(),c("div",{key:0,class:"children-container",onMouseup:j},[(n(!0),c(H,null,K(o(v),N=>(n(),u(o(b),{key:N.id,node:N},null,8,["node"]))),128))],32)):o(f)?(n(),u(T,{key:1,node:o(e),"allow-type":o(f),onUpdate:E},null,8,["node","allow-type"])):h("",!0)]),a.role!=="search"?(n(),u(P,{key:0,node:o(e)},null,8,["node"])):h("",!0)],2))}});const be=z(k,[["__scopeId","data-v-2ded693c"]]);k.__docgenInfo={exportName:"default",displayName:"NodeCardAction",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0},{name:"role",values:["canvas","search"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'canvas'"}}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardAction.vue"]};export{be as default};
