import{_ as g}from"./iframe-4066d2cc.js";import{f as y,ah as B,x as b,e as c,O as N,G as t,H as n,K as h,F as D,Z as w,N as m,S as E,U as C}from"./vue.esm-bundler-33967e91.js";import{N as W}from"./NodeCardBackground-e1c3a5e9.js";import{b as $}from"./Editor-e2ebb077.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"../sb-preview/runtime.js";import"./ModalPvLimitAlertView-cb9178ae.js";import"./vue-i18n.cjs-bd62fc86.js";import"./_commonjsHelpers-042e6b4d.js";import"./ModalUpgradeRequired-a455cfd7.js";import"./BasicModal-000dc82b.js";import"./PfButton-db6d6722.js";import"./PfIconContext-bd54ca9b.js";import"./lodash-bf1bac5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./PfIcon-bb1c3c10.js";import"./mapValues-a1d744f5.js";import"./SelectSwitch-b6107958.js";import"./tiptap-extension-paragraph.esm-72054cce.js";import"./draggable-203bb716.js";import"./ApiIcon-4990672b.js";import"./useSearch-b8b0ad67.js";const k=y({name:"NodeCardWorkflow",components:{NodeCardBackground:W,NodeHandle:B(()=>g(()=>import("./Editor-e2ebb077.js").then(e=>e.k),["./Editor-e2ebb077.js","./vue.esm-bundler-33967e91.js","./ModalPvLimitAlertView-cb9178ae.js","./vue-i18n.cjs-bd62fc86.js","./_commonjsHelpers-042e6b4d.js","./ModalUpgradeRequired-a455cfd7.js","./BasicModal-000dc82b.js","./_plugin-vue_export-helper-c27b6911.js","./BasicModal-276b42ea.css","./PfButton-db6d6722.js","./PfIconContext-bd54ca9b.js","./ModalUpgradeRequired-1a015d77.css","./lodash-bf1bac5c.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-4066d2cc.js","./PfIcon-bb1c3c10.js","./mapValues-a1d744f5.js","./ModalPvLimitAlertView-c58a5858.css","./SelectSwitch-b6107958.js","./tiptap-extension-paragraph.esm-72054cce.js","./SelectSwitch-74fee1e2.css","./draggable-203bb716.js","./ApiIcon-4990672b.js","./ApiIcon-f6bf5922.css","./useSearch-b8b0ad67.js","./Editor-f05e9ae1.css"],import.meta.url))},props:{node:{type:Object,required:!0}},setup(e){const{node:r}=b(e),{findNode:f,selectedNodeId:i,draggingNode:o,updateNode:l,scopeBlueprintDefMap:s}=$(),p=c(()=>r.value.children.map(u=>f(u))),a=c(()=>o.value?.id===r.value.id?!1:r.value.id===i.value||r.value.children.includes(i.value)),d=c(()=>!o.value||o.value?.id===r.value.id||s.value.get(o.value.id)?!1:o.value.type==="action"||o.value.type==="sleep"||o.value.type==="repeat"||o.value.type==="ifElse");return{children:p,canSelectChildren:a,isDroppable:d,addChild:u=>{if(!d.value)return;l(o.value.id,{position:null});const _=[...r.value.children];_.splice(u,0,o.value.id),l(r.value.id,{children:_})}}}});const M={class:"children-container"},I=["onMouseup"],S=["onMouseup"];function V(e,r,f,i,o,l){const s=N("NodeHandle"),p=N("NodeCardBackground");return t(),n("div",{class:m(["NodeCardWorkflow",{canSelectChildren:e.canSelectChildren}])},[h("div",M,[(t(!0),n(D,null,w(e.children,(a,d)=>(t(),n("div",{key:a.id,class:"child-frame"},[d===0?(t(),n("div",{key:0,class:m(["child-gap",{isDroppable:e.isDroppable}]),onMouseup:v=>e.addChild(d)},null,42,I)):E("",!0),C(s,{node:a},null,8,["node"]),h("div",{class:m(["child-gap",{isDroppable:e.isDroppable}]),onMouseup:v=>e.addChild(d+1)},null,42,S)]))),128))]),C(p,{node:e.node},null,8,["node"])],2)}const de=H(k,[["render",V],["__scopeId","data-v-a4232dfd"]]);k.__docgenInfo={displayName:"NodeCardWorkflow",exportName:"default",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!0}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/NodeCardWorkflow.vue"]};export{de as default};
