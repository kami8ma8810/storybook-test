import{f as T,x as w,O as U,G as d,H as p,F as D,K as E,N as c,U as m}from"./vue.esm-bundler-33967e91.js";import{F as h,b as k,i as C,c as q}from"./Editor-e2ebb077.js";import{ar as r,bN as $}from"./ModalPvLimitAlertView-cb9178ae.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const f=T({name:"ValueInput",components:{FormulaInput:h},props:{node:{type:Object,required:!1,default:null},allowType:{type:String,required:!1,default:"number"}},emits:["update"],setup(e,u){const{node:n,allowType:l}=w(e),{draggingNode:t,isUsed:i,findChildIds:s,variableNodes:G,addNodeFromSeed:v}=k(),y=r(()=>n.value&&t.value&&i(n.value.id)?!(t.value.id===n.value.id||s(t.value.id).includes(n.value.id)):!1),I=a=>{const o=$.getSeed(a);if(o){const B=v(o);u.emit("update",B[0].id)}},b=a=>{const o=a.target;a.composed&&o.value===""&&(I(""),o.blur())};C();const _=()=>{},g=r(()=>q(45,25)),N=r(()=>l.value==="boolean"),F=a=>{u.emit("update",a)},V=r(()=>l.value==="boolean"?["boolean"]:["number"]);return{canDrop:y,onKeyEnter:b,onDrop:_,borderPath:g,isBoolean:N,addFromInput:F,formulaInputTypes:V}}});const H={class:"ValueInput"};function S(e,u,n,l,t,i){const s=U("FormulaInput");return d(),p("div",H,[e.isBoolean?(d(),p(D,{key:0},[E("input",{class:c(["boolean-value-input",[{canDrop:e.canDrop},e.allowType]])},null,2),m(s,{node:e.node,types:e.formulaInputTypes,onUpdate:e.addFromInput},null,8,["node","types","onUpdate"])],64)):(d(),p("div",{key:1,class:c(["value-input",[{canDrop:e.canDrop},e.allowType]])},[m(s,{node:e.node,types:e.formulaInputTypes,onUpdate:e.addFromInput},null,8,["node","types","onUpdate"])],2))])}const P=j(f,[["render",S],["__scopeId","data-v-3bcafa96"]]);f.__docgenInfo={displayName:"ValueInput",exportName:"default",description:"",tags:{},props:[{name:"node",type:{name:"BlueprintNode"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"allowType",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'number'"}}],events:[{name:"update"}],sourceFiles:["/Users/h.kamiyama/GitHub/studio-front/src/components/BlueprintEditor/NodeCard/ValueInput.vue"]};export{P as V};
